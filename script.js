if(!Object['hasOwnProperty']('values')){Object['values']=function(c){return Object['keys'](c)['map'](function(d){return c[d];});};}if(!String['prototype']['startsWith']){String['prototype']['startsWith']=function(e,f){f=f||0x0;return this['indexOf'](e,f)===f;};}TDV['EventDispatcher']=function(){this['_handlers']={};};TDV['EventDispatcher']['prototype']['bind']=function(g,h){if(!(g in this['_handlers']))this['_handlers'][g]=[];this['_handlers'][g]['push'](h);};TDV['EventDispatcher']['prototype']['unbind']=function(i,j){if(i in this['_handlers']){var k=this['_handlers'][i]['indexOf'](j);if(k!=-0x1)this['_handlers'][i]['splice'](k,0x1);}};TDV['EventDispatcher']['prototype']['createNewEvent']=function(l){if(typeof Event==='function')return new Event(l);var m=document['createEvent']('Event');m['initEvent'](l,!![],!![]);return m;};TDV['EventDispatcher']['prototype']['dispatchEvent']=function(n){if(n['type']in this['_handlers']){var o=this['_handlers'][n['type']];for(var p=0x0;p<o['length'];++p){o[p]['call'](window,n);if(n['defaultPrevented'])break;}}};TDV['Tour']=function(q,r){TDV['EventDispatcher']['call'](this);this['player']=undefined;this['_settings']=q;this['_devicesUrl']=r;this['_playersPlayingTmp']=[];this['_isInitialized']=![];this['_isPaused']=![];this['_isRemoteSession']=![];this['_orientation']=undefined;this['_lockedOrientation']=undefined;this['_device']=undefined;Object['defineProperty'](this,'isInitialized',{'get':function(){return this['_isInitialized'];}});Object['defineProperty'](this,'isPaused',{'get':function(){return this['_isPaused'];}});this['_setupRemote']();};TDV['Tour']['DEVICE_GENERAL']='general';TDV['Tour']['DEVICE_MOBILE']='mobile';TDV['Tour']['DEVICE_IPAD']='ipad';TDV['Tour']['DEVICE_VR']='vr';TDV['Tour']['EVENT_TOUR_INITIALIZED']='tourInitialized';TDV['Tour']['EVENT_TOUR_LOADED']='tourLoaded';TDV['Tour']['EVENT_TOUR_ENDED']='tourEnded';TDV['Tour']['prototype']=new TDV['EventDispatcher']();TDV['Tour']['prototype']['dispose']=function(){if(!this['player'])return;if(this['_onHashChange']){window['removeEventListener']('hashchange',this['_onHashChange']);this['_onHashChange']=undefined;}if(this['_onKeyUp']){document['removeEventListener']('keyup',this['_onKeyUp']);this['_onKeyUp']=undefined;}if(this['_onBeforeUnload']){window['removeEventListener']('beforeunload',this['_onBeforeUnload']);this['_onBeforeUnload']=undefined;}var s=this['_getRootPlayer']();if(s!==undefined){s['stopTextToSpeech']();s['stopGlobalAudios']();}this['player']['delete']();this['player']=undefined;this['_isInitialized']=![];window['currentGlobalAudios']=undefined;window['pauseGlobalAudiosState']=undefined;window['currentPanoramasWithCameraChanged']=undefined;window['overlaysDispatched']=undefined;};TDV['Tour']['prototype']['load']=function(){if(this['player'])return;var t=function(w){if(w['name']=='begin'){var A=w['data']['source']['get']('camera');if(A&&A['get']('initialSequence')&&A['get']('initialSequence')['get']('movements')['length']>0x0)return;}if(w['sourceClassName']=='MediaAudio'||w['sourceClassName']=='Model3DCameraSequence'||this['_isInitialized'])return;this['_isInitialized']=!![];u['unbind']('preloadMediaShow',t,this,!![]);u['unbindOnObjectsOf']('PlayListItem','begin',t,this,!![]);u['unbind']('stateChange',t,this,!![]);if(this['_isPaused'])this['pause']();window['parent']['postMessage'](TDV['Tour']['EVENT_TOUR_LOADED'],'*');this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['EVENT_TOUR_LOADED']));};this['_setup']();this['_settings']['set'](TDV['PlayerSettings']['SCRIPT_URL'],this['_currentScriptUrl']);var u=this['player']=TDV['PlayerAPI']['create'](this['_settings']);u['bindOnObject']('rootPlayer','start',v,this,!![]);window['addEventListener']('message',function(B){var C=B['data'];if(C=='pauseTour')C='pause';else if(C=='resumeTour')C='resume';else return;this[C]['apply'](this);}['bind'](this));function v(D){u['unbindOnObject']('rootPlayer','start',v,this,!![]);var E=D['data']['source'];E['get']('data')['tour']=this;var F=window['navigator']['language']||window['navigator']['userLanguage']||'en';var G=E['get']('data')['locales']||{};var H=E['get']('data')['defaultLocale']||F;var I=this['locManager']=new TDV['Tour']['LocaleManager'](E,G,H,this['_settings']['get'](TDV['PlayerSettings']['QUERY_STRING_PARAMETERS']));E['get']('data')['localeManager']=I;var J=function(){var U=E['get']('data');if(!('updateText'in U)){U['updateText']=function(Y){var Z=Y[0x0]['split']('.');if(Z['length']==0x2){var a0=I['trans']['apply'](I,Y);var a1=Y[0x1]||E;if(typeof a1=='string'){var a2=a1['split']('.');a1=E[a2['shift']()];for(var a3=0x0;a3<a2['length']-0x1;++a3){if(a1!=undefined)a1='get'in a1?a1['get'](a2[a3]):a1[a2[a3]];}if(a1!=undefined){var a4=a2[a2['length']-0x1];if(Array['isArray'](a1)){for(var a5=0x0;a5<a1['length'];++a5){this['setValue'](a1[a5],a4,a0);}}else this['setValue'](a1,a4,a0);}}else{a1=a1[Z[0x0]];this['setValue'](a1,Z[0x1],a0);}}}['bind'](E);}var V=U['translateObjs'];var W=U['updateText'];var X=function(){for(var a6 in V){W(V[a6]);}};X();X();};this['locManager']['bind'](TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED'],J['bind'](this));var K=this['_getParams'](location['search']['substr'](0x1));K=E['mixObject'](K,this['_getParams'](location['hash']['substr'](0x1)));var L=K['language'];if(!L||!this['locManager']['hasLocale'](K['language'])){if(E['get']('data')['forceDefaultLocale'])L=H;else L=F;}this['setLocale'](L);var M=E['getByClassName']('HotspotPanoramaOverlay');for(var O=0x0,P=M['length'];O<P;++O){var Q=M[O];var R=Q['get']('data');if(!R)Q['set']('data',R={});R['defaultEnabledValue']=Q['get']('enabled');}this['_setMediaFromURL'](K);this['_updateParams'](K,![]);if(this['isMobile']()&&typeof this['_devicesUrl'][this['_device']]=='object'){var S=function(){if(!E['isCardboardViewMode']()&&this['_getOrientation']()!=this['_orientation']){this['reload'](!![]);return!![];}return![];};if(S['call'](this))return;var T=E['getByClassName']('PanoramaPlayer');for(var O=0x0;O<T['length'];++O){T[O]['bind']('viewModeChange',S,this);}E['bind']('orientationChange',S,this);}this['_onHashChange']=function(){var a7=this['_getParams'](location['hash']['substr'](0x1));this['_setMediaFromURL'](a7,![]);this['_updateParams'](a7,!![]);}['bind'](this);this['_onKeyUp']=function(a8){switch(a8['key']['toLowerCase']()){case'u':this['updateDeepLink']();E['copyToClipboard'](location['href']);break;case'm':var a9=E['getByClassName']('MeasureModel3DObject');var aa=E['getActiveMediaWithViewer'](E['getMainViewer']());if(a9['length']>0x0&&aa['get']('class')=='Model3D'){E['startMeasurement'](null,a9[0x0]);}break;}}['bind'](this);this['_onBeforeUnload']=function(ab){E['stopTextToSpeech']();};window['addEventListener']('hashchange',this['_onHashChange']);window['addEventListener']('beforeunload',this['_onBeforeUnload']);document['addEventListener']('keyup',this['_onKeyUp']);E['bind']('tourEnded',function(){this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['EVENT_TOUR_ENDED']));},this,!![]);E['bind']('mute_changed',function(){if(this['get']('mute'))this['stopTextToSpeech']();},E,!![]);u['bind']('preloadMediaShow',t,this,!![]);u['bind']('stateChange',t,this,!![]);u['bindOnObjectsOf']('PlayListItem','begin',t,this,!![]);this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['EVENT_TOUR_INITIALIZED']));}};TDV['Tour']['prototype']['pause']=function(){this['_isPaused']=!![];if(!this['_isInitialized'])return;var ac=function(al){var am=al['source'];if(!this['_isPaused'])am['unbind']('stateChange',ac,this);else if(am['get']('state')=='playing'){am['pause']();}};var ad=this['player']['getByClassName']('PlayList');for(var ae=0x0,af=ad['length'];ae<af;ae++){var ag=ad[ae];var ah=ag['get']('selectedIndex');if(ah!=-0x1){var ai=ag['get']('items')[ah];var aj=ai['get']('player');if(aj&&aj['pause']){if(aj['get']('state')!='playing')aj['bind']('stateChange',ac,this);else aj['pause']();this['_playersPlayingTmp']['push'](aj);}}}var ak=this['_getRootPlayer']();ak['pauseGlobalAudios']();ak['quizPauseTimer']();};TDV['Tour']['prototype']['resume']=function(){this['_isPaused']=![];if(!this['_isInitialized'])return;while(this['_playersPlayingTmp']['length']){var an=this['_playersPlayingTmp']['pop']();an['play']();}var ao=this['_getRootPlayer']();ao['resumeGlobalAudios']();ao['quizResumeTimer']();};TDV['Tour']['prototype']['reload']=function(ap){this['_orientation']=this['_getOrientation']();if(ap)this['updateDeepLink']();this['dispose']();this['load']();};TDV['Tour']['prototype']['setMediaByIndex']=function(aq){var ar=this['_getRootPlayer']();if(ar!==undefined){return ar['setMainMediaByIndex'](aq);}};TDV['Tour']['prototype']['setMediaByName']=function(as){var at=this['_getRootPlayer']();if(at!==undefined){return at['setMainMediaByName'](as);}};TDV['Tour']['prototype']['triggerOverlayByName']=function(au,av,aw){var ax=this['_getRootPlayer']();if(!aw)aw='click';if(ax!==undefined&&aw){var ay=ax['getPanoramaOverlayByName'](au,av);if(ay){ax['triggerOverlay'](ay,aw);}}};TDV['Tour']['prototype']['focusOverlayByName']=function(az,aA){var aB=this['_getRootPlayer']();if(aB!==undefined){var aC=aB['getPanoramaOverlayByName'](az['get']('media'),aA);if(aC){var aD=aC['get']('class');var aE=aD=='VideoPanoramaOverlay'||aD=='QuadVideoPanoramaOverlay'?aC:aC['get']('items')[0x0];var aF,aG;aD=aE['get']('class');if(aD=='QuadVideoPanoramaOverlay'||aD=='QuadHotspotPanoramaOverlayImage'){var aH=aE['get']('vertices');var aI=0x0,aJ=aH['length'];aF=0x0;aG=0x0;while(aI<aJ){var aK=aH[aI++];var aL=aK['get']('yaw');if(aL<0x0)aL+=0x168;aF+=aL;aG+=aK['get']('pitch');}aF/=0x4;aG/=0x4;if(aF>0xb4)aF-=0x168;}else{aF=aE['get']('yaw');aG=aE['get']('pitch');}var aM=aB['getPlayListWithItem'](az);if(aM){var aN=function(){aB['setPanoramaCameraWithSpot'](aM,az,aF,aG);};if(!this['_isInitialized']){var aO=function(){az['unbind']('begin',aO,this);aN();};az['bind']('begin',aO,this);}else{aN();}}}}};TDV['Tour']['prototype']['setComponentsVisibilityByTags']=function(aP,aQ,aR){var aS=this['_getRootPlayer']();if(aS!==undefined){var aT=aS['getComponentsByTags'](aP,aR);for(var aU=0x0,aV=aT['length'];aU<aV;++aU){aT[aU]['set']('visible',aQ);}}};TDV['Tour']['prototype']['setOverlaysVisibilityByTags']=function(aW,aX,aY){var aZ=this['_getRootPlayer']();if(aZ!==undefined){var b0=aZ['getOverlaysByTags'](aW,aY);aZ['setOverlaysVisibility'](b0,aX);}};TDV['Tour']['prototype']['setOverlaysVisibilityByName']=function(b1,b2){var b3=this['_getRootPlayer']();if(b3!==undefined){var b4=b3['getActiveMediaWithViewer'](b3['getMainViewer']());var b5=[];for(var b6=0x0,b7=b1['length'];b6<b7;++b6){var b8=b3['getPanoramaOverlayByName'](b4,b1[b6]);if(b8)b5['push'](b8);}b3['setOverlaysVisibility'](b5,b2);}};TDV['Tour']['prototype']['setObjectsVisibilityByID']=function(b9,ba){var bb=this['_getRootPlayer']();if(bb!==undefined){var bc=bb['getActiveMediaWithViewer'](bb['getMainViewer']());if(bc['get']('class')=='Model3D'){bb['setObjectsVisibilityByID'](bc,b9,ba);}}};TDV['Tour']['prototype']['setModel3DVariant']=function(bd){var be=this['_getRootPlayer']();if(be!==undefined){var bf=be['getActiveMediaWithViewer'](be['getMainViewer']());if(bf['get']('class')=='Model3D'){bf['set']('variant',bd);}}};TDV['Tour']['prototype']['updateDeepLink']=function(){var bg=this['_getRootPlayer']();if(bg!==undefined){bg['updateDeepLink']({'includeCurrentView':!![],'includeCurrentVisibleHotspots':!![],'includeCurrentMeasureModel3DObjects':!![],'setHash':!![]});}};TDV['Tour']['prototype']['setLocale']=function(bh){var bi=this['_getRootPlayer']();if(bi!==undefined&&this['locManager']!==undefined){this['locManager']['setLocale'](bh);}};TDV['Tour']['prototype']['getLocale']=function(){var bj=this['_getRootPlayer']();return bj!==undefined&&this['locManager']!==undefined?this['locManager']['currentLocaleID']:undefined;};TDV['Tour']['prototype']['isMobile']=function(){return TDV['PlayerAPI']['mobile'];};TDV['Tour']['prototype']['isIPhone']=function(){return TDV['PlayerAPI']['device']==TDV['PlayerAPI']['DEVICE_IPHONE'];};TDV['Tour']['prototype']['isIPad']=function(){return TDV['PlayerAPI']['device']==TDV['PlayerAPI']['DEVICE_IPAD'];};TDV['Tour']['prototype']['isIOS']=function(){return this['isIPad']()||this['isIPhone']();};TDV['Tour']['prototype']['isMobileApp']=function(){return navigator['userAgent']['indexOf']('App/TDV')!=-0x1;};TDV['Tour']['prototype']['getNotchValue']=function(){var bk=document['documentElement'];bk['style']['setProperty']('--notch-top','env(safe-area-inset-top)');bk['style']['setProperty']('--notch-right','env(safe-area-inset-right)');bk['style']['setProperty']('--notch-bottom','env(safe-area-inset-bottom)');bk['style']['setProperty']('--notch-left','env(safe-area-inset-left)');var bl=window['getComputedStyle'](bk);return parseInt(bl['getPropertyValue']('--notch-top')||'0',0xa)||parseInt(bl['getPropertyValue']('--notch-right')||'0',0xa)||parseInt(bl['getPropertyValue']('--notch-bottom')||'0',0xa)||parseInt(bl['getPropertyValue']('--notch-left')||'0',0xa);};TDV['Tour']['prototype']['hasNotch']=function(){return this['getNotchValue']()>0x0;};TDV['Tour']['prototype']['_getOrientation']=function(){var bm=this['_getRootPlayer']();if(bm){return bm['get']('orientation');}else if(this['_lockedOrientation']){return this['_lockedOrientation'];}else{return TDV['PlayerAPI']['getOrientation']();}};TDV['Tour']['prototype']['_getParams']=function(bn){var bo={};bn['split']('&')['forEach'](function(bp){var bq=bp['split']('=')[0x0],br=decodeURIComponent(bp['split']('=')[0x1]);bo[bq['toLowerCase']()]=br;});return bo;};TDV['Tour']['prototype']['_getRootPlayer']=function(){return this['player']!==undefined?this['player']['getById']('rootPlayer'):undefined;};TDV['Tour']['prototype']['_setup']=function(){if(!this['_orientation'])this['_orientation']=this['_getOrientation']();this['_device']=this['_getDevice']();this['_currentScriptUrl']=this['_getScriptUrl']();if(this['isMobile']()){var bs=document['getElementById']('metaViewport');if(bs){var bt=this['_devicesUrl'][this['_device']];var bu=0x1;if(typeof bt=='object'&&this['_orientation']in bt&&this['_orientation']==TDV['PlayerAPI']['ORIENTATION_LANDSCAPE']||this['_device']==TDV['Tour']['DEVICE_GENERAL']){bu=bs['getAttribute']('data-tdv-general-scale')||0.5;}var bv=bs['getAttribute']('content');bv=bv['replace'](/initial-scale=(\d+(\.\d+)?)/,function(bw,bx){return'initial-scale='+bu;});bs['setAttribute']('content',bv);}}};TDV['Tour']['prototype']['_getScriptUrl']=function(){var by=this['_devicesUrl'][this['_device']];if(typeof by=='object'){if(this['_orientation']in by){by=by[this['_orientation']];}}return by;};TDV['Tour']['prototype']['_getDevice']=function(){var bz=TDV['Tour']['DEVICE_GENERAL'];if(!this['_isRemoteSession']&&this['isMobile']()){if(this['isIPad']()&&TDV['Tour']['DEVICE_IPAD']in this['_devicesUrl'])bz=TDV['Tour']['DEVICE_IPAD'];else if(TDV['Tour']['DEVICE_MOBILE']in this['_devicesUrl'])bz=TDV['Tour']['DEVICE_MOBILE'];}return bz;};TDV['Tour']['prototype']['_setMediaFromURL']=function(bA){var bB=this['_getRootPlayer']();var bC=bB['getActivePlayerWithViewer'](bB['getMainViewer']());var bD=bC?bB['getMediaFromPlayer'](bC):undefined;var bE;if('media'in bA){var bF=bA['media'];var bG=Number(bF);bE=isNaN(bG)?this['setMediaByName'](bF):this['setMediaByIndex'](bG-0x1);}else if('media-index'in bA){bE=this['setMediaByIndex'](parseInt(bA['media-index'])-0x1);}else if('media-name'in bA){bE=this['setMediaByName'](decodeURIComponent(bA['media-name']));}if(bE==undefined){bE=this['setMediaByIndex'](0x0);}if(bE!=undefined){var bH=bE['get']('player');var bI=function(){if('trigger-overlay-name'in bA){this['triggerOverlayByName'](bE['get']('media'),bA['trigger-overlay-name'],bA['trigger-overlay-event']);}if('focus-overlay-name'in bA){this['focusOverlayByName'](bE,bA['focus-overlay-name']);}else if('yaw'in bA||'pitch'in bA){var bM=bB['getPlayListWithItem'](bE);if(bM){switch(bE['get']('class')){case'PanoramaPlayListItem':var bN=parseFloat(bA['yaw'])||undefined;var bO=parseFloat(bA['pitch'])||undefined;bB['setPanoramaCameraWithSpot'](bM,bE,bN,bO);break;case'Model3DPlayListItem':var bP=['yaw','pitch','x','y','z','distance'];var bQ={};for(var bR=0x0;bR<bP['length'];++bR){var bS=bP[bR];var bT=parseFloat(bA[bS]);if(!isNaN(bT))bQ[bS]=bT;}bB['setModel3DCameraSpot'](bM,bE,bQ);break;}}}}['bind'](this);if(bH){var bJ=bH['get']('viewerArea')==bB['getMainViewer']();var bK=bB['getMediaFromPlayer'](bH);if(bJ&&bD==bE['get']('media')||!bJ&&bK==bE['get']('media')){bI();return bE!=undefined;}}var bL=function(){bE['unbind']('begin',bL,this);bI();};bE['bind']('begin',bL,bB);}return bE!=undefined;};TDV['Tour']['prototype']['_setupRemote']=function(){if(this['isMobile']()&&TDV['Remote']!=undefined){var bU=function(){var bV;var bW=function(){var bZ=this['_getRootPlayer']();bV=bZ['get']('lockedOrientation');bZ['set']('lockedOrientation',this['_lockedOrientation']);}['bind'](this);this['_isRemoteSession']=!![];this['_lockedOrientation']=TDV['PlayerAPI']['ORIENTATION_LANDSCAPE'];if(this['_device']!=TDV['Tour']['DEVICE_GENERAL']){var bX=function(){bW();this['unbind'](TDV['Tour']['EVENT_TOUR_INITIALIZED'],bX);}['bind'](this);this['bind'](TDV['Tour']['EVENT_TOUR_INITIALIZED'],bX);this['reload'](!![]);}else{bW();}var bY=function(){this['_isRemoteSession']=![];this['_getRootPlayer']()['set']('lockedOrientation',bV);TDV['Remote']['unbind'](TDV['Remote']['EVENT_CALL_END'],bY);var c0=this['_getScriptUrl']();if(this['_currentScriptUrl']!=c0)this['reload'](!![]);}['bind'](this);TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_END'],bY);}['bind'](this);TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_BEGIN'],bU);}};TDV['Tour']['prototype']['_updateParams']=function(c1,c2){if(c2&&'language'in c1){var c3=c1['language'];if(this['locManager']['hasLocale'](c3)){this['setLocale'](c3);}}var c4=function(c6,c7,c8){var c9=c7['split'](',');for(var ca=0x0,cb=c9['length'];ca<cb;++ca){c6['call'](this,c9[ca]['split']('+'),c8,'and');}};var c5=function(cc){var cd=this['_getRootPlayer']();var ce=cd['getActiveMediaWithViewer'](cd['getMainViewer']());if(ce['get']('class')!='Model3D')return;var cf=ce['get']('objects');var cg=[];cc['split']('+')['forEach'](function(ch){var ci=ch['split'](',');var cj=ci['shift']();if(cj in cd&&ci['length']%0x3==0x0){var ck=ci[0x0],cl=ci[0x1],cm=ci[0x2];var cn=cf['some'](function(cs){return cs['get']('class')=='MeasureModel3DObject'&&ck==cs['get']('x')&&cl==cs['get']('y')&&cm==cs['get']('z');});if(cn)return;var co=[];var cp=_cloneMeasureModel3DObject['call'](this,this[cj]);cp['set']('mode','view');cp['set']('x',ck);cp['set']('y',cl);cp['set']('z',cm);for(var cq=0x3;cq<ci['length'];cq+=0x3){var cr=this['createInstance']('MeasureModel3DObjectPoint');cr['set']('x',ci[cq]);cr['set']('y',ci[cq+0x1]);cr['set']('z',ci[cq+0x2]);co['push'](cr);}cp['set']('points',co);cg['push'](cp);}}['bind'](cd));if(cg['length']>0x0){ce['set']('objects',cf['concat'](cg));}};if('hide-components-tags'in c1||'hct'in c1)c4['call'](this,this['setComponentsVisibilityByTags'],c1['hide-components-tags']||c1['hct'],![]);if('show-components-tags'in c1||'sct'in c1)c4['call'](this,this['setComponentsVisibilityByTags'],c1['show-components-tags']||c1['sct'],!![]);if('hide-overlays-tags'in c1||'hot'in c1)c4['call'](this,this['setOverlaysVisibilityByTags'],c1['hide-overlays-tags']||c1['hot'],![]);if('show-overlays-tags'in c1||'sot'in c1)c4['call'](this,this['setOverlaysVisibilityByTags'],c1['show-overlays-tags']||c1['sot'],!![]);if('hide-overlays-names'in c1||'hon'in c1)this['setOverlaysVisibilityByName'](decodeURIComponent(c1['hide-overlays-names']||c1['hon'])['split'](','),![]);if('show-overlays-names'in c1||'son'in c1)this['setOverlaysVisibilityByName'](decodeURIComponent(c1['show-overlays-names']||c1['son'])['split'](','),!![]);if('show-object-ids'in c1||'sobjids'in c1)this['setObjectsVisibilityByID'](decodeURIComponent(c1['show-object-ids']||c1['sobjids'])['split'](','),!![]);if('hide-object-ids'in c1||'hobjids'in c1)this['setObjectsVisibilityByID'](decodeURIComponent(c1['hide-object-ids']||c1['hobjids'])['split'](','),![]);if('variant'in c1)this['setModel3DVariant'](decodeURIComponent(c1['variant']));if('measures'in c1)c5['call'](this,decodeURIComponent(c1['measures']['split'](';')));};TDV['Tour']['LocaleManager']=function(ct,cu,cv,cw){TDV['EventDispatcher']['call'](this);this['rootPlayer']=ct;this['locales']={};this['defaultLocale']=cv;this['queryParam']=cw;this['currentLocaleMap']={};this['currentLocaleID']=undefined;for(var cx in cu){this['registerLocale'](cx,cu[cx]);}};TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED']='localeChanged';TDV['Tour']['LocaleManager']['prototype']=new TDV['EventDispatcher']();TDV['Tour']['LocaleManager']['prototype']['registerLocale']=function(cy,cz){var cA=[cy,cy['split']('-')[0x0]];for(var cB=0x0;cB<cA['length'];++cB){cy=cA[cB];if(!(cy in this['locales'])){this['locales'][cy]=cz;}}};TDV['Tour']['LocaleManager']['prototype']['unregisterLocale']=function(cC){delete this['locales'][cC];if(cC==this['currentLocaleID']){this['setLocale'](this['defaultLocale']);}};TDV['Tour']['LocaleManager']['prototype']['hasLocale']=function(cD){return cD in this['locales'];};TDV['Tour']['LocaleManager']['prototype']['setLocale']=function(cE){var cF;var cG=cE['split']('-')[0x0];var cH=[cE,cG];for(var cI=0x0;cI<cH['length'];++cI){var cK=cH[cI];if(cK in this['locales']){cF=cK;break;}}if(cF===undefined){for(var cK in this['locales']){if(cK['indexOf'](cG)==0x0){cF=cK;break;}}}if(cF===undefined){cF=this['defaultLocale'];}var cL=this['locales'][cF];if(cL!==undefined&&this['currentLocaleID']!=cF){this['currentLocaleID']=cF;var cM=this;if(typeof cL=='string'){var cN=new XMLHttpRequest();cN['onreadystatechange']=function(){if(cN['readyState']==0x4){if(cN['status']==0xc8){cM['locales'][cF]=cM['currentLocaleMap']=cM['_parsePropertiesContent'](cN['responseText']);cM['dispatchEvent'](cM['createNewEvent'](TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED']));}else{throw cL+'\x20can\x27t\x20be\x20loaded';}}};var cO=cL;if(this['queryParam'])cO+=(cO['indexOf']('?')==-0x1?'?':'&')+this['queryParam'];cN['open']('GET',cO);cN['send']();}else{this['currentLocaleMap']=cL;this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED']));}}};TDV['Tour']['LocaleManager']['prototype']['trans']=function(cP){function cQ(cU){return/^\d+$/['test'](cU);}var cR=this['currentLocaleMap'][cP];if(cR&&arguments['length']>0x2){var cS=typeof arguments[0x2]=='object'?arguments[0x2]:undefined;var cT=arguments;cR=cR['replace'](/\{\{([\w _\-\.]+)\}\}/g,function(cV,cW){if(cQ(cW))cW=cT[parseInt(cW)+0x1];else if(cS!==undefined)cW=cS[cW];if(typeof cW=='string')cW=this['currentLocaleMap'][cW]||cW;else if(typeof cW=='function')cW=cW['call'](this['rootPlayer']);return cW!==undefined?cW:'';}['bind'](this));}return cR;};TDV['Tour']['LocaleManager']['prototype']['_parsePropertiesContent']=function(cX){cX=cX['replace'](/(^|\n)#[^\n]*/g,'');var cY={};var cZ=cX['split']('\x0a');for(var d0=0x0,d1=cZ['length'];d0<d1;++d0){var d2=cZ[d0]['trim']();if(d2['length']==0x0){continue;}var d3=d2['indexOf']('=');if(d3==-0x1){console['error']('Locale\x20parser:\x20Invalid\x20line\x20'+d0);continue;}var d4=d2['substr'](0x0,d3)['trim']();var d5=d2['substr'](d3+0x1)['trim']();var d6;while((d6=d5['lastIndexOf']('\x5c'))!=-0x1&&d6==d5['length']-0x1&&++d0<d1){d5=d5['substr'](0x0,d5['length']-0x2);d2=cZ[d0];if(d2['length']==0x0)break;d5+='\x0a'+d2;d5=d5['trim']();}cY[d4]=d5;}return cY;};TDV['Tour']['HistoryData']=function(d7){this['playList']=d7;this['list']=[];this['pointer']=-0x1;};TDV['Tour']['HistoryData']['prototype']['add']=function(d8){if(this['pointer']<this['list']['length']&&this['list'][this['pointer']]==d8){return;}++this['pointer'];this['list']['splice'](this['pointer'],this['list']['length']-this['pointer'],d8);};TDV['Tour']['HistoryData']['prototype']['back']=function(){if(!this['canBack']())return;this['playList']['set']('selectedIndex',this['list'][--this['pointer']]);};TDV['Tour']['HistoryData']['prototype']['forward']=function(){if(!this['canForward']())return;this['playList']['set']('selectedIndex',this['list'][++this['pointer']]);};TDV['Tour']['HistoryData']['prototype']['canBack']=function(){return this['pointer']>0x0;};TDV['Tour']['HistoryData']['prototype']['canForward']=function(){return this['pointer']>=0x0&&this['pointer']<this['list']['length']-0x1;};function _getObject(d9,da){return typeof da=='string'?d9[da['replace']('this.','')]:da;}function _initModels(){var db=this['getByClassName']('Model3D');db['forEach'](function(dc){var dd=dc['get']('data');var de=dd['panoramaLocations'];if(de){de['forEach'](function(df){df=_getObject(this,df);var dg=df['get']('data');var dh=_getObject(this,dg['panorama']);dh['set']('modelLocations',(dh['get']('modelLocations')||[])['concat'](df));}['bind'](this));}this['getPlayListItems'](dc)['forEach'](function(di){_initModel3DItem['call'](this,di);}['bind'](this));}['bind'](this));}function _initModel3DItem(dj){var dk=dj['get']('player');if(!dk)return;var dl=dk['get']('viewerArea');if(!dl)return;var dm=dj['get']('media');var dn;dj['bind']('begin',function(){_initModel['call'](this,dm);dn=dl['get']('doubleClickAction');dl['set']('doubleClickAction','none');this['getCurrentPlayers']()['forEach'](function(dp){if(dp['get']('class')=='PanoramaPlayer'&&dp['get']('viewerArea')==dl){dp['set']('model3DPlayer',dk);}});},this);dj['bind']('stop',function(){dl['set']('doubleClickAction',dn);},this);}function _initModel(dq){var dr=dq['get']('data');if(!dr)dq['set']('data',dr={});if(!dr['panoramaLocations']||dr['isInitialized']||!dq['get']('isLoaded'))return;var ds=0xb4/Math['PI'];var dt=dq['get']('worldUnitToMeters')||0x1;var du=dr['maxDistanceObjectsVisible']||0x0;var dv=dr['panoramaLocations'];var dw=[];var dx=this['get']('data')['surfaceSelectionHotspotMode'];var dy=dx=='hotspotEnabled';dv['forEach'](function(dF){dF=_getObject(this,dF);var dG=dF['get']('data');var dH=dq['getDistanceToFloor']([dF['get']('x'),dF['get']('y'),dF['get']('z')]);var dI=_getObject(this,dG['panorama']);var dJ=dv['filter'](function(dS){var dT=_getObject(this,_getObject(this,dS)['get']('data'));return!dT['excludeAsHotspotPanorama']&&dI!=dT['panorama'];}['bind'](this))['map'](function(dU){dU=_getObject(this,dU);var dV=dU['get']('data');var dW=!!dV['excludeSurfaceSelectionModel'];var dX=dU['get']('x')-dF['get']('x'),dY=dU['get']('y')-dF['get']('y'),dZ=dU['get']('z')-dF['get']('z');var e0=Math['atan2'](dX,-dZ)*ds;var e1=Math['atan2'](dY,Math['sqrt'](dX*dX+dZ*dZ))*ds;var e2=Math['sqrt'](dX*dX+dY*dY+dZ*dZ);var e3=dq['getDistanceToFloor']([dU['get']('x'),dU['get']('y'),dU['get']('z')]);if(dH!==undefined&&e3!==undefined)dY=e3-dH;var e4=Math['sqrt'](dX*dX+dY*dY+dZ*dZ);return{'yaw':e0,'pitch':e1,'width':dV['width'],'height':dV['height'],'opacity':dV['opacity'],'anchorX':dV['anchorX']?dV['anchorX']:0.5,'anchorY':dV['anchorY']?dV['anchorY']:0.5,'transparentAreaActive':!!dV['transparentAreaActive'],'actions':dV['actions'],'position':{'x':dU['get']('x'),'y':dU['get']('y'),'z':dU['get']('z')},'toolTip':dV['toolTip'],'image':_getObject(this,dV['image']),'distance':e2*dt,'floorDistance':e4*dt,'panorama':_getObject(this,dV['panorama']),'backwardYaw':e0-0xb4-dU['get']('yaw'),'excludeSurfacePanorama':dW};}['bind'](this));dJ['sort'](function(e5,e6){return e5['distance']-e6['distance'];});var dK=[],dL=(dI['get']('adjacentPanoramas')||[])['concat']();var dM=dq['get']('maxNearestObjectsVisible');var dN=dr['showOnlyHotspotsLineSightInPanoramas'];var dO={'x':dF['get']('x'),'y':dF['get']('y'),'z':dF['get']('z')};dJ['forEach'](function(e7){if(e7['panorama']==dI||dM>0x0&&dK['length']>=dM||du>0x0&&e7['distance']>du||dN&&dq['testIntersection'](dO,e7['position']))return;var e8=dA['call'](this,e7['panorama'],e7['yaw']-dF['get']('yaw'),e7['pitch'],e7['width'],e7['height'],e7['anchorX'],e7['anchorY'],e7['opacity'],e7['transparentAreaActive'],e7['image'],dy&&!e7['excludeSurfacePanorama']);var e9=dB['call'](this,e7['panorama'],e7['yaw']-dF['get']('yaw'),e7['backwardYaw'],e7['floorDistance'],!e7['excludeSurfacePanorama']);dK['push'](e8);var ea=dL['findIndex'](function(ed){return ed['get']('panorama')==e7['panorama'];});if(ea!=-0x1)dL['splice'](ea,0x1);dL['push'](e9);var eb=e8['get']('areas')[0x0];if(e7['toolTip'])eb['set']('toolTip',e7['toolTip']);eb['bind']('click',dz['bind'](this,dI,e7['panorama'],dq,!![]),this);e9['bind']('select',dz['bind'](this,dI,e7['panorama'],dq,!![]),this);var ec=e7['actions'];if(ec){dE['call'](this,e8,ec);if('click'in ec)e9['bind']('select',new Function('event',ec['click']),this);}}['bind'](this));dI['set']('overlays',(dI['get']('overlays')||[])['concat'](dK));dI['set']('adjacentPanoramas',dL);var dP=!dq['get']('surfaceSelectionEnabled')||!!dG['excludeSurfaceSelectionModel'];var dQ;if(dP){dQ=dC['call'](this,dF['get']('x'),dF['get']('y'),dF['get']('z'),dG['width'],dG['height'],dG['anchorX']?dG['anchorX']:0.5,dG['anchorY']?dG['anchorY']:0.5,dG['opacity'],!!dG['transparentAreaActive'],dr['showOnlyHotspotsLineSight'],_getObject(this,dG['image']));dQ['set']('id','sprite_'+dF['get']('id'));dQ['set']('translationLineColor',dG['translationLineColor']!=null?dG['translationLineColor']:'#ffffff');dQ['set']('translationLineOpacity',dG['translationLineOpacity']!=null?dG['translationLineOpacity']:0x1);dQ['set']('translationLineVisible',dG['translationLineVisible']!=null?dG['translationLineVisible']:![]);dQ['set']('translationLineWidth',dG['translationLineWidth']!=null?dG['translationLineWidth']:0x1);dQ['set']('translationLength',dG['translationLength']!=null?dG['translationLength']:dr['showOnlyHotspotsLineSight']&&(dG['translationY']==null||dG['translationY']==0x0)?dG['height']/0x2:undefined);dQ['set']('translationX',dG['translationX']!=null?dG['translationX']:0x0);dQ['set']('translationY',dG['translationY']!=null&&dG['translationY']!=0x0?dG['translationY']:dr['showOnlyHotspotsLineSight']?0x1:0x0);dQ['set']('translationZ',dG['translationZ']!=null?dG['translationZ']:0x0);if(dG['toolTip'])dQ['set']('toolTip',dG['toolTip']);dG['sprite']=dQ;}else dQ=dD['call'](this,dF['get']('x'),dF['get']('y'),dF['get']('z'));if(dG['enabled']!==undefined)dQ['set']('enabled',dG['enabled']);dQ['get']('data')['location']=dF;var dR=dG['actions'];if(dR){dE['call'](this,dQ,dR);}dQ['bind']('click',dz['bind'](this,dq,dI,dq,![]),this);dw['push'](dQ);}['bind'](this));dq['set']('objects',(dq['get']('objects')||[])['concat'](dw));dr['isInitialized']=!![];function dz(ee,ef,eg,eh){var ei=this['getPlayListsWithMedia'](ee,!![])['filter'](function(ep){return this['getMediaFromPlayer'](ep['get']('items')[ep['get']('selectedIndex')]['get']('player'))==ee;}['bind'](this));if(ei['length']==0x0)return;var ej=this['getPlayListItemByMedia'](ei[0x0],ee);var ek=ej['get']('player')['get']('viewerArea');var el;this['getPlayListsWithMedia'](ef)['forEach'](function(eq){var er=this['getPlayListItemByMedia'](eq,ef);if(er['get']('player')['get']('viewerArea')==ek){if(eh&&ej['get']('player')['get']('viewerArea')['get']('translationTransitionEnabled')){em();er['bind']('begin',eo,this);}eq['set']('selectedIndex',eq['get']('items')['indexOf'](er));}}['bind'](this));function em(){el=eg['get']('objects')['filter'](function(es){var et=es['get']('data');return et&&et['location']!==undefined;});el['forEach'](function(eu){eu['set']('enabled',![]);});}function en(){el['forEach'](function(ev){ev['set']('enabled',!![]);});}function eo(ew){ew['source']['unbind']('begin',eo,this);en();}}function dA(ex,ey,ez,eA,eB,eC,eD,eE,eF,eG,eH){var eI=_createInstanceFromObj(this,{'class':'HotspotPanoramaOverlay','useHandCursor':!![],'enabledInSurfaceSelection':eH,'areas':[{'class':'HotspotPanoramaOverlayArea','mapColor':eF?'any':'image'}],'items':[{'class':'FlatHotspotPanoramaOverlayImage','yaw':ey,'pitch':ez,'width':eA,'height':eB,'offsetX':eC*eA,'offsetY':eD*eB,'opacity':eE!=undefined?eE:0x1}]});eI['get']('items')[0x0]['set']('image',eG);return eI;}function dB(eJ,eK,eL,eM,eN){return _createInstanceFromObj(this,{'class':'AdjacentPanorama','panorama':'this.'+eJ['get']('id'),'backwardYaw':eL,'yaw':eK,'distance':eM,'enabledInSurfaceSelection':eN});}function dC(eO,eP,eQ,eR,eS,eT,eU,eV,eW,eX,eY){var eZ=_createInstanceFromObj(this,{'class':'SpriteModel3DObject','x':eO,'y':eP,'z':eQ,'anchorX':eT,'anchorY':eU,'depthTest':eX,'transparentAreaActive':eW,'hideBasedOnDistance':!![],'width':eR,'height':eS,'opacity':eV!=undefined?eV:0x1,'data':{}});eZ['set']('image',eY);return eZ;}function dD(f0,f1,f2){return _createInstanceFromObj(this,{'class':'SurfaceReticleModel3DObject','x':f0,'y':f1,'z':f2,'depthTest':![],'data':{}});}function dE(f3,f4){Object['keys'](f4)['forEach'](function(f5){if(f3['hasEvent'](f5))f3['bind'](f5,new Function('event',f4[f5]),this);}['bind'](this));}}function _findLocationWithPanorama(f6){var f7=this['getByClassName']('Model3D');for(var f8=0x0,f9=f7['length'];f8<f9;++f8){var fa=f7[f8];var fb=fa['get']('data');if(fb&&fb['panoramaLocations']){var fc=fb['panoramaLocations']['find'](function(fd){fd=_getObject(this,fd);return _getObject(this,fd['get']('data')['panorama'])==f6;}['bind'](this));if(fc)return _getObject(this,fc);}}return undefined;}function _getPlayersWithViewer(fe){var ff=this['getCurrentPlayers']();var fg=ff['length'];while(fg-->0x0){var fh=ff[fg];if(fh['get']('viewerArea')!=fe){ff['splice'](fg,0x1);}}return ff;}function _createInstance(fi,fj,fk){var fl=fi['createInstance'](fj);if(fk){fl['set']('id',fk);fi[fk]=fl;}return fl;}function _createInstanceFromObj(fm,fn){return fo(fn);function fo(fp,fq){if(typeof fp=='object'){if('class'in fp){try{fq=_createInstance(fm,fp['class'],fp['id']);}catch(fu){fq=fp;}}else{fq=fp;}}var fr=function(fv,fw){if('set'in fq)fq['set'](fv,fw);else fq[fv]=fw;};for(var fs in fp){var ft=fp[fs];if(typeof ft=='object'&&ft!==null)fr(fs,fo(ft,fq));else if(typeof ft=='string'&&ft['indexOf']('this.')==0x0)fr(fs,fm[ft['replace']('this.','')]);else fr(fs,ft);}return fq;}}TDV['Tour']['Script']=function(){};TDV['Tour']['Script']['assignObjRecursively']=function(fx,fy){for(var fz in fx){var fA=fx[fz];if(typeof fA=='object'&&fA!==null)this['assignObjRecursively'](fx[fz],fy[fz]||(fy[fz]={}));else fy[fz]=fA;}return fy;};TDV['Tour']['Script']['autotriggerAtStart']=function(fB,fC,fD){var fE=function(fF){fC();if(fD==!![])fB['unbind']('change',fE,this);};fB['bind']('change',fE,this);};TDV['Tour']['Script']['changeBackgroundWhilePlay']=function(fG,fH,fI){var fJ=function(){fK['unbind']('stop',fJ,this);if(fI==fM['get']('backgroundColor')&&fP==fM['get']('backgroundColorRatios')){fM['set']('backgroundColor',fN);fM['set']('backgroundColorRatios',fO);}};var fK=fG['get']('items')[fH];var fL=fK['get']('player');var fM=fL['get']('viewerArea');var fN=fM['get']('backgroundColor');var fO=fM['get']('backgroundColorRatios');var fP=[0x0];if(fI!=fN||fP!=fO){fM['set']('backgroundColor',fI);fM['set']('backgroundColorRatios',fP);fK['bind']('stop',fJ,this);}};TDV['Tour']['Script']['changeOpacityWhilePlay']=function(fQ,fR,fS){var fT=function(){fU['unbind']('stop',fT,this);if(fX==fW['get']('backgroundOpacity')){fW['set']('opacity',fX);}};var fU=fQ['get']('items')[fR];var fV=fU['get']('player');var fW=fV['get']('viewerArea');var fX=fW['get']('backgroundOpacity');if(fS!=fX){fW['set']('backgroundOpacity',fS);fU['bind']('stop',fT,this);}};TDV['Tour']['Script']['changePlayListWithSameSpot']=function(fY,fZ){var g0=fY['get']('selectedIndex');if(g0>=0x0&&fZ>=0x0&&g0!=fZ){var g1=fY['get']('items')[g0];var g2=fY['get']('items')[fZ];var g3=g1['get']('player');var g4=g2['get']('player');if((g3['get']('class')=='PanoramaPlayer'||g3['get']('class')=='Video360Player')&&(g4['get']('class')=='PanoramaPlayer'||g4['get']('class')=='Video360Player')){var g5=this['clonePanoramaCamera'](g2['get']('camera'));this['setCameraSameSpotAsMedia'](g5,g1['get']('media'));var g6=g5['get']('initialPosition');if(g6['get']('yaw')==undefined||g6['get']('pitch')==undefined||g6['get']('hfov')==undefined)return;this['startPanoramaWithCamera'](g2['get']('media'),g5);}}};TDV['Tour']['Script']['clone']=function(g7,g8){var g9=this['rootPlayer']['createInstance'](g7['get']('class'));var gb=g7['get']('id');if(gb){var gc=gb+'_'+Math['random']()['toString'](0x24)['substring'](0x2,0xf);g9['set']('id',gc);this[gc]=g9;}for(var gd=0x0;gd<g8['length'];++gd){var ge=g8[gd];var gf=g7['get'](ge);if(gf!=null)g9['set'](ge,gf);}return g9;};TDV['Tour']['Script']['cloneBindings']=function(gg,gh,gi){var gj=gg['getBindings'](gi);for(var gk=0x0;gk<gj['length'];++gk){var gl=gj[gk];if(typeof gl=='string')gl=new Function('event',gl);gh['bind'](gi,gl,this);}};TDV['Tour']['Script']['clonePanoramaCamera']=function(gm){var gn=this['clone'](gm,['manualRotationSpeed','manualZoomSpeed','automaticRotationSpeed','automaticZoomSpeed','timeToIdle','sequences','draggingFactor','hoverFactor']);var go=['initialSequence','idleSequence'];for(var gp=0x0;gp<go['length'];++gp){var gq=go[gp];var gr=gm['get'](gq);if(gr){var gs=this['clone'](gr,['mandatory','repeat','restartMovementOnUserInteraction','restartMovementDelay']);gn['set'](gq,gs);var gt=gr['get']('movements');var gu=[];var gv=['easing','duration','hfovSpeed','pitchSpeed','yawSpeed','path','stereographicFactorSpeed','targetYaw','targetPitch','targetHfov','targetStereographicFactor','hfovDelta','pitchDelta','yawDelta'];for(var gw=0x0;gw<gt['length'];++gw){var gx=gt[gw];var gy=this['clone'](gx,gv);var gz=gx['getBindings']('end');if(gz['length']>0x0){for(var gA=0x0;gA<gz['length'];++gA){var gB=gz[gA];if(typeof gB=='string'){gB=gB['replace'](gm['get']('id'),gn['get']('id'));gB=new Function('event',gB);gy['bind']('end',gB,this);}}}gu['push'](gy);}gs['set']('movements',gu);}}return gn;};TDV['Tour']['Script']['copyObjRecursively']=function(gC){var gD={};for(var gE in gC){var gF=gC[gE];if(typeof gF=='object'&&gF!==null)gD[gE]=this['copyObjRecursively'](gC[gE]);else gD[gE]=gF;}return gD;};TDV['Tour']['Script']['copyToClipboard']=function(gG){if(navigator['clipboard']){navigator['clipboard']['writeText'](gG);}else{var gH=document['createElement']('textarea');gH['value']=gG;gH['style']['position']='fixed';document['body']['appendChild'](gH);gH['focus']();gH['select']();try{document['execCommand']('copy');}catch(gI){}document['body']['removeChild'](gH);}};TDV['Tour']['Script']['createTween']=function(gJ,gK,gL,gM,gN){var gO=this['rootPlayer']['createInstance']('Effect');var gP=this['get']('data')['tweensState'];if(!gP){this['get']('data')['tweensState']=gP={};}var gQ='get'in gJ&&typeof gJ['get']==='function';var gR=(gQ&&gJ['get']('id')?gJ['get']('id'):(Math['random']()+0x1)['toString'](0x24)['substring'](0x2))+'_';var gS={};for(var gT in gK){var gU=gK[gT];if(gT['startsWith']('on')&&(typeof gU==='function'||typeof gU==='string')){var gV=gT['slice'](0x2);if(typeof gU==='string')gU=eval('('+gU+')');gO['bind'](gV['charAt'](0x0)['toLowerCase']()+gV['slice'](0x1),gU,this);}else if(typeof gU==='string'&&gU['startsWith']('#')){var gW=parseInt('0x'+(gQ?gJ['get'](gT)['slice'](0x1):gJ[gT]['slice'](0x1)));var gX=parseInt('0x'+gU['slice'](0x1));gS[gT]={'color':!![],'initialRGB':[gW>>0x10&0xff,gW>>0x8&0xff,gW&0xff],'finalRGB':[gX>>0x10&0xff,gX>>0x8&0xff,gX&0xff]};gP[gR+gT]=gO;}else{gS[gT]=gQ?gJ['get'](gT):gJ[gT];gP[gR+gT]=gO;}}gO['set']('duration',(gL||0x0)*0x3e8);gO['set']('easing',gM||'cubic_in_out');gO['set']('animationDirection',gN||'normal');gO['bind']('end',function(){for(var gY in gS){if(gP[gR+gY]==gO)delete gP[gR+gY];}this['disposeInstance'](gO);},this);gO['bind']('frame',function(){var gZ=gO['getPosition']();for(var h0 in gS){var h1=gS[h0];if(gP[gR+h0]!=gO)continue;if(typeof h1==='object'&&'color'in h1){var h2=Math['round'](h1['initialRGB'][0x0]+(h1['finalRGB'][0x0]-h1['initialRGB'][0x0])*gZ);var h3=Math['round'](h1['initialRGB'][0x1]+(h1['finalRGB'][0x1]-h1['initialRGB'][0x1])*gZ);var h4=Math['round'](h1['initialRGB'][0x2]+(h1['finalRGB'][0x2]-h1['initialRGB'][0x2])*gZ);h1='#'+((0x1<<0x18)+(h2<<0x10)+(h3<<0x8)+h4)['toString'](0x10)['slice'](0x1);}else{h1=h1+(gK[h0]-h1)*gZ;}if(gQ)gJ['set'](h0,h1);else gJ[h0]=h1;}},this);return gO;};TDV['Tour']['Script']['executeFunctionWhenChange']=function(h5,h6,h7,h8){var h9=undefined;var ha=function(he){if(he['data']['previousSelectedIndex']==h6){if(h8)h8['call'](this);if(h7&&h9)h9['unbind']('end',h7,this);h5['unbind']('change',ha,this);}};if(h7){var hb=h5['get']('items')[h6];var hc=hb['get']('class');if(hc=='PanoramaPlayListItem'||hc=='Model3DPlayListItem'){var hd=hb['get']('camera');if(hd!=undefined){h9=hd['get']('initialSequence');if(h9==undefined)h9=hd['get']('idleSequence');}}else{h9=hb['get']('media');}if(h9){h9['bind']('end',h7,this);}}h5['bind']('change',ha,this);};TDV['Tour']['Script']['executeJS']=function(hf){try{eval(hf);}catch(hg){console['log']('Javascript\x20error:\x20'+hg);console['log']('\x20\x20\x20code:\x20'+hf);}};TDV['Tour']['Script']['fixTogglePlayPauseButton']=function(hh){var hi=hh['get']('buttonPlayPause');if(typeof hi!=='undefined'&&hh['get']('state')=='playing'){if(!Array['isArray'](hi))hi=[hi];for(var hj=0x0;hj<hi['length'];++hj)hi[hj]['set']('pressed',!![]);}};TDV['Tour']['Script']['getActiveMediaWithViewer']=function(hk){var hl=this['getActivePlayerWithViewer'](hk);if(hl==undefined){return undefined;}return this['getMediaFromPlayer'](hl);};TDV['Tour']['Script']['getActivePlayerWithViewer']=function(hm){var hn=this['getActivePlayersWithViewer'](hm);if(hn['length']>0x1){hn['sort'](function(ho,hp){var hq=ho['get']('class');var hr=hp['get']('class');if(hq=='Model3DPlayer')return 0x1;else if(hr=='Model3DPlayer')return-0x1;else return 0x0;});}return hn['length']>0x0?hn[0x0]:undefined;};TDV['Tour']['Script']['getActivePlayersWithViewer']=function(hs){var ht=this['getCurrentPlayers']();var hu=ht['length'];var hv=[];while(hu-->0x0){var hw=ht[hu];if(hw['get']('viewerArea')==hs){var hx=hw['get']('class');if(hx=='PanoramaPlayer'&&(hw['get']('panorama')!=undefined||hw['get']('video')!=undefined)||(hx=='VideoPlayer'||hx=='Video360Player')&&hw['get']('video')!=undefined||hx=='PhotoAlbumPlayer'&&hw['get']('photoAlbum')!=undefined||hx=='MapPlayer'&&hw['get']('map')!=undefined||hx=='Model3DPlayer'&&hw['get']('model')!=undefined)hv['push'](hw);}}return hv;};TDV['Tour']['Script']['getCurrentPlayerWithMedia']=function(hy){var hz=undefined;var hA=undefined;switch(hy['get']('class')){case'Panorama':case'LivePanorama':case'HDRPanorama':hz='PanoramaPlayer';hA='panorama';break;case'Video360':hz='PanoramaPlayer';hA='video';break;case'PhotoAlbum':hz='PhotoAlbumPlayer';hA='photoAlbum';break;case'Map':hz='MapPlayer';hA='map';break;case'Video':hz='VideoPlayer';hA='video';break;case'Model3D':hz='Model3DPlayer';hA='media';break;}if(hz!=undefined){var hB=this['getByClassName'](hz);for(var hC=0x0;hC<hB['length'];++hC){var hD=hB[hC];if(hD['get'](hA)==hy){return hD;}}}else{return undefined;}};TDV['Tour']['Script']['getCurrentPlayers']=function(){var hE=this['getByClassName']('PanoramaPlayer');hE=hE['concat'](this['getByClassName']('VideoPlayer'));hE=hE['concat'](this['getByClassName']('Video360Player'));hE=hE['concat'](this['getByClassName']('PhotoAlbumPlayer'));hE=hE['concat'](this['getByClassName']('MapPlayer'));hE=hE['concat'](this['getByClassName']('Model3DPlayer'));return hE;};TDV['Tour']['Script']['getGlobalAudio']=function(hF){var hG=window['currentGlobalAudios'];if(hG!=undefined&&hF['get']('id')in hG){hF=hG[hF['get']('id')]['audio'];}return hF;};TDV['Tour']['Script']['getMediaByName']=function(hH){var hI=this['getByClassName']('Media');for(var hJ=0x0,hK=hI['length'];hJ<hK;++hJ){var hL=hI[hJ];var hM=hL['get']('data');if(hM&&hM['label']==hH){return hL;}}return undefined;};TDV['Tour']['Script']['getMediaByTags']=function(hN,hO){return this['_getObjectsByTags'](hN,['Media'],'tags2Media',hO);};TDV['Tour']['Script']['getAudioByTags']=function(hP,hQ){return this['_getObjectsByTags'](hP,['Audio'],'tags2Media',hQ);};TDV['Tour']['Script']['getOverlaysByTags']=function(hR,hS){return this['_getObjectsByTags'](hR,['HotspotPanoramaOverlay','HotspotMapOverlay','VideoPanoramaOverlay','QuadVideoPanoramaOverlay','FramePanoramaOverlay','QuadFramePanoramaOverlay','SpriteModel3DObject','PanoramaModel3DLocation'],'tags2Overlays',hS);};TDV['Tour']['Script']['getOverlaysByGroupname']=function(hT){var hU=this['get']('data');var hV='groupname2Overlays';var hW=hU[hV];if(!hW){var hX=['HotspotPanoramaOverlay','VideoPanoramaOverlay','QuadVideoPanoramaOverlay','FramePanoramaOverlay','QuadFramePanoramaOverlay'];hU[hV]=hW={};for(var hY=0x0;hY<hX['length'];++hY){var hZ=hX[hY];var i0=this['getByClassName'](hZ);for(var i1=0x0,i2=i0['length'];i1<i2;++i1){var i3=i0[i1];var i4=i3['get']('data');if(i4&&i4['group']){var i5=hW[i4['group']];if(!i5)hW[i4['group']]=i5=[];i5['push'](i3);}}}}return hW[hT]||[];};TDV['Tour']['Script']['getRootOverlay']=function(i6){var i7=i6['get']('class');var i8=i7['indexOf']('HotspotPanoramaOverlayArea')!=-0x1;var i9=i7['indexOf']('HotspotPanoramaOverlayImage')!=-0x1;if(i8||i9){var ia=this['get']('data');var ib='overlays';var ic=ia[ib];if(!ic){var ie=['HotspotPanoramaOverlay'];ic=[];for(var ig=0x0;ig<ie['length'];++ig){var ih=ie[ig];ic=ic['concat'](this['getByClassName'](ih));}ia[ib]=ic;}var ii=i8?'areas':'items';for(var ij=0x0,ik=ic['length'];ij<ik;++ij){var il=ic[ij];var im=il['get'](ii);if(im){for(var io=0x0;io<im['length'];++io){if(im[io]==i6)return il;}}}}return i6;};TDV['Tour']['Script']['initOverlayGroupRotationOnClick']=function(ip){var iq=this['getOverlaysByGroupname'](ip);if(iq['length']>0x1){iq['sort'](function(ix,iy){var iz=ix['get']('data')['groupIndex'];var iA=iy['get']('data')['groupIndex'];return iz-iA;});for(var ir=0x0,is=iq['length'];ir<is;++ir){var it=iq[ir];var iu=iq[(ir+0x1)%is];var iv=it['get']('class');var iw=it;if(iv=='HotspotPanoramaOverlay'){iw=it['get']('areas')[0x0];}iw['bind']('click',function(iB,iC){this['setOverlaysVisibility']([iB],![]);this['setOverlaysVisibility']([iC],!![]);}['bind'](this,it,iu),this);}}};TDV['Tour']['Script']['getComponentsByTags']=function(iD,iE){return this['_getObjectsByTags'](iD,['UIComponent'],'tags2Components',iE);};TDV['Tour']['Script']['_getObjectsByTags']=function(iF,iG,iH,iI){var iJ=this['get']('data');var iK=iJ[iH];if(!iK){iJ[iH]=iK={};for(var iL=0x0;iL<iG['length'];++iL){var iM=iG[iL];var iN=this['getByClassName'](iM);for(var iP=0x0,iR=iN['length'];iP<iR;++iP){var iT=iN[iP];var iU=iT['get']('data');if(iU&&iU['tags']){var iV=iU['tags'];for(var iY=0x0,iZ=iV['length'];iY<iZ;++iY){var j0=iV[iY];if(j0 in iK)iK[j0]['push'](iT);else iK[j0]=[iT];}}}}}var j1=undefined;iI=iI||'and';for(var iP=0x0,iR=iF['length'];iP<iR;++iP){var j2=iK[iF[iP]];if(!j2)continue;if(!j1)j1=j2['concat']();else{if(iI=='and'){for(var iY=j1['length']-0x1;iY>=0x0;--iY){if(j2['indexOf'](j1[iY])==-0x1)j1['splice'](iY,0x1);}}else if(iI=='or'){for(var iY=j2['length']-0x1;iY>=0x0;--iY){var iT=j2[iY];if(j1['indexOf'](iT)==-0x1)j1['push'](iT);}}}}return j1||[];};TDV['Tour']['Script']['getComponentByName']=function(j3){var j4=this['getByClassName']('UIComponent');for(var j5=0x0,j6=j4['length'];j5<j6;++j5){var j7=j4[j5];var j8=j7['get']('data');if(j8!=undefined&&j8['name']==j3){return j7;}}return undefined;};TDV['Tour']['Script']['getMainViewer']=function(){var j9='MainViewer';return this[j9]||this[j9+'_mobile'];};TDV['Tour']['Script']['getMediaFromPlayer']=function(ja){switch(ja['get']('class')){case'PanoramaPlayer':return ja['get']('panorama')||ja['get']('video');case'VideoPlayer':case'Video360Player':return ja['get']('video');case'PhotoAlbumPlayer':return ja['get']('photoAlbum');case'MapPlayer':return ja['get']('map');case'Model3DPlayer':return ja['get']('model');}};TDV['Tour']['Script']['getMediaWidth']=function(jb){switch(jb['get']('class')){case'Video360':var jc=jb['get']('video');if(jc instanceof Array){var jd=0x0;for(var je=0x0;je<jc['length'];je++){var jf=jc[je];if(jf['get']('width')>jd)jd=jf['get']('width');}return jd;}else{return jf['get']('width');}default:return jb['get']('width');}};TDV['Tour']['Script']['getMediaHeight']=function(jg){switch(jg['get']('class')){case'Video360':var jh=jg['get']('video');if(jh instanceof Array){var ji=0x0;for(var jj=0x0;jj<jh['length'];jj++){var jk=jh[jj];if(jk['get']('height')>ji)ji=jk['get']('height');}return ji;}else{return jk['get']('height');}default:return jg['get']('height');}};TDV['Tour']['Script']['getOverlays']=function(jl){switch(jl['get']('class')){case'LivePanorama':case'HDRPanorama':case'Panorama':var jm=jl['get']('overlays')['concat']()||[];var jn=jl['get']('frames');for(var jo=0x0;jo<jn['length'];++jo){jm=jm['concat'](jn[jo]['get']('overlays')||[]);}return jm;case'Video360':case'Map':return jl['get']('overlays')||[];case'Model3D':return jl['get']('objects');default:return[];}};TDV['Tour']['Script']['getPanoramaOverlayByName']=function(jp,jq){var jr=this['getOverlays'](jp);for(var js=0x0,jt=jr['length'];js<jt;++js){var ju=jr[js];var jv=ju['get']('data');if(jv!=undefined&&jv['label']==jq){return ju;}}return undefined;};TDV['Tour']['Script']['getPanoramaOverlaysByTags']=function(jw,jx,jy){var jz=[];var jA=this['getOverlays'](jw);var jB=this['getOverlaysByTags'](jx,jy);for(var jC=0x0,jD=jA['length'];jC<jD;++jC){var jE=jA[jC];if(jB['indexOf'](jE)!=-0x1)jz['push'](jE);}return jz;};TDV['Tour']['Script']['getPixels']=function(jF){var jG=/((\+|-)?d+(.d*)?)(px|vw|vh|vmin|vmax)?/i['exec'](jF);if(jG==undefined){return 0x0;}var jH=parseFloat(jG[0x1]);var jI=jG[0x4];var jJ=this['rootPlayer']['get']('actualWidth')/0x64;var jK=this['rootPlayer']['get']('actualHeight')/0x64;switch(jI){case'vw':return jH*jJ;case'vh':return jH*jK;case'vmin':return jH*Math['min'](jJ,jK);case'vmax':return jH*Math['max'](jJ,jK);default:return jH;}};TDV['Tour']['Script']['getPlayListsWithMedia']=function(jL,jM){var jN=[];var jO=this['getByClassName']('PlayList');for(var jP=0x0,jQ=jO['length'];jP<jQ;++jP){var jR=jO[jP];if(jM&&jR['get']('selectedIndex')==-0x1)continue;var jS=this['getPlayListItemByMedia'](jR,jL);if(jS!=undefined&&jS['get']('player')!=undefined)jN['push'](jR);}return jN;};TDV['Tour']['Script']['_getPlayListsWithViewer']=function(jT){var jU=this['getByClassName']('PlayList');var jV=function(jX){var jY=jX['get']('items');for(var jZ=jY['length']-0x1;jZ>=0x0;--jZ){var k0=jY[jZ];var k1=k0['get']('player');if(k1!==undefined&&k1['get']('viewerArea')==jT)return!![];}return![];};for(var jW=jU['length']-0x1;jW>=0x0;--jW){if(!jV(jU[jW]))jU['splice'](jW,0x1);}return jU;};TDV['Tour']['Script']['getPlayListWithItem']=function(k2){var k3=this['getByClassName']('PlayList');for(var k4=k3['length']-0x1;k4>=0x0;--k4){var k5=k3[k4];var k6=k5['get']('items');for(var k7=k6['length']-0x1;k7>=0x0;--k7){var k8=k6[k7];if(k8==k2)return k5;}}return undefined;};TDV['Tour']['Script']['getFirstPlayListWithMedia']=function(k9,ka){var kb=this['getPlayListsWithMedia'](k9,ka);return kb['length']>0x0?kb[0x0]:undefined;};TDV['Tour']['Script']['getPlayListItemByMedia']=function(kc,kd){var ke=kc['get']('items');for(var kf=0x0,kg=ke['length'];kf<kg;++kf){var kh=ke[kf];if(kh['get']('media')==kd)return kh;}return undefined;};TDV['Tour']['Script']['getPlayListItemIndexByMedia']=function(ki,kj){var kk=this['getPlayListItemByMedia'](ki,kj);return kk?ki['get']('items')['indexOf'](kk):-0x1;};TDV['Tour']['Script']['getPlayListItems']=function(kl,km){var kn=function(){switch(kl['get']('class')){case'Panorama':case'LivePanorama':case'HDRPanorama':return'PanoramaPlayListItem';case'Map':return'MapPlayListItem';case'Model3D':return'Model3DPlayListItem';case'PhotoAlbum':return'PhotoAlbumPlayListItem';case'Video':return'VideoPlayListItem';case'Video360':return'Video360PlayListItem';}}();if(kn!=undefined){var ko=this['getByClassName'](kn);for(var kp=ko['length']-0x1;kp>=0x0;--kp){var kq=ko[kp];if(kq['get']('media')!=kl||km!=undefined&&kq['get']('player')!=km){ko['splice'](kp,0x1);}}return ko;}else{return[];}};TDV['Tour']['Script']['historyGoBack']=function(kr){var ks=this['get']('data')['history'][kr['get']('id')];if(ks!=undefined){ks['back']();}};TDV['Tour']['Script']['historyGoForward']=function(kt){var ku=this['get']('data')['history'][kt['get']('id')];if(ku!=undefined){ku['forward']();}};TDV['Tour']['Script']['init']=function(){var kv=this['get']('data')['history'];var kw=function(kF){var kG=kF['source'];var kH=kG['get']('selectedIndex');if(kH<0x0)return;var kI=kG['get']('id');if(!kv['hasOwnProperty'](kI))kv[kI]=new TDV['Tour']['HistoryData'](kG);kv[kI]['add'](kH);};var kx=this['getByClassName']('PlayList');for(var kz=0x0,kA=kx['length'];kz<kA;++kz){var kB=kx[kz];kB['bind']('change',kw,this);}if(this['getMainViewer']()['get']('translationTransitionEnabled')){var kC=this['getByClassName']('ThumbnailList');kC=kC['concat'](this['getByClassName']('ThumbnailGrid'));kC=kC['concat'](this['getByClassName']('DropDown'));function kJ(kK){var kL=kK['source']['get']('playList');var kM=kL['get']('selectedIndex');if(kM>=0x0){this['skip3DTransitionOnce'](kL['get']('items')[kM]['get']('player'));}}for(var kz=0x0,kD=kC['length'];kz<kD;++kz){var kE=kC[kz];kE['bind']('change',kJ,this);}}_initModels['call'](this);};TDV['Tour']['Script']['sendAnalyticsData']=function(kN,kO,kP){if(window['dataLayer']){window['dataLayer']['push']({'event':kO,'label':kP,'category':kN});}if(!this['get']('data')['tour']['player']['cookiesEnabled'])return;if(window['ga']){window['ga']('send','event',kN,kO,kP);}if(window['gtag']){window['gtag']('event',kO,{'category':kN,'label':kP});}};TDV['Tour']['Script']['initAnalytics']=function(){var kR=this['getByClassName']('Panorama');kR=kR['concat'](this['getByClassName']('Video360'));kR=kR['concat'](this['getByClassName']('Map'));kR=kR['concat'](this['getByClassName']('Model3D'));for(var kU=0x0,kX=kR['length'];kU<kX;++kU){var kY=kR[kU];var l0=kY['get']('data');var l1=l0?l0['label']:'';var l2=this['getOverlays'](kY);for(var l3=0x0,l4=l2['length'];l3<l4;++l3){var l5=l2[l3];var l6=l5['get']('data')!=undefined?l1+'\x20-\x20'+l5['get']('data')['label']:l1;switch(l5['get']('class')){case'FlatHotspotPanoramaOverlay':case'HotspotPanoramaOverlay':case'HotspotMapOverlay':case'AreaHotspotMapOverlay':var l7=l5['get']('areas');for(var l8=0x0;l8<l7['length'];++l8){l7[l8]['bind']('click',this['sendAnalyticsData']['bind'](this,'Hotspot','click',l6),this,![]);}break;case'CeilingCapPanoramaOverlay':case'TripodCapPanoramaOverlay':l5['bind']('click',this['sendAnalyticsData']['bind'](this,'Cap','click',l6),this,![]);break;case'QuadVideoPanoramaOverlay':case'VideoPanoramaOverlay':l5['bind']('click',this['sendAnalyticsData']['bind'](this,'Hotspot','click',l6),this,![]);l5['bind']('start',this['sendAnalyticsData']['bind'](this,'Hotspot','start',l6),this,![]);break;case'QuadFramePanoramaOverlay':case'FramePanoramaOverlay':case'SpriteModel3DObject':l5['bind']('click',this['sendAnalyticsData']['bind'](this,'Hotspot','click',l6),this,![]);break;}}}var l9=this['getByClassName']('UIComponent');for(var kU=0x0,kX=l9['length'];kU<kX;++kU){var la=l9[kU];var lb=la['getBindings']('click');if(lb['length']>0x0){var lc=la['get']('data')['name'];la['bind']('click',this['sendAnalyticsData']['bind'](this,'Skin','click',lc),this,![]);}}var ld=this['mainPlayList']['get']('items')['concat'](this['getByClassName']('PlayListItem'));var le={};for(var kU=0x0,kX=ld['length'];kU<kX;++kU){var lf=ld[kU];var kR=lf['get']('media');if(!(kR['get']('id')in le)){var l0=kR['get']('data');lf['bind']('begin',this['sendAnalyticsData']['bind'](this,'Media','play',l0?l0['label']:undefined),this,![]);le[kR['get']('id')]=lf;}}if(TDV['Remote']!=undefined){var lg=undefined;TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_BEGIN'],function(lh){lg=Date['now']();this['sendAnalyticsData']('Live\x20Guided\x20Tour','Start\x20Call','Guest:\x20'+lh);}['bind'](this));TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_END'],function(li){var lj=new Date();lj['setTime'](Date['now']()-lg);this['sendAnalyticsData']('Live\x20Guided\x20Tour','End\x20Call','Guest:\x20'+li+'\x20Duration:\x20'+lj['toUTCString']()['split']('\x20')[0x4]);}['bind'](this));}};TDV['Tour']['Script']['initQuiz']=function(lk,ll,lm){var ln={"timeout":{"window":{"title":{"fontColor":"#000000","fontFamily":"Arial","fontSize":40,"paddingBottom":20,"textAlign":"center","fontWeight":"bold"},"shadowVerticalLength":0,"horizontalAlign":"center","gap":15,"backgroundColor":"#ffffff","paddingRight":80,"shadowColor":"#000000","shadow":true,"shadowSpread":4,"paddingLeft":80,"paddingTop":45,"shadowBlurRadius":4,"shadowOpacity":0.3,"button":{"fontColor":"#ffffff","paddingTop":12,"horizontalAlign":"center","fontFamily":"Arial","fontWeight":"bold","fontSize":15,"paddingLeft":25,"verticalAlign":"middle","paddingBottom":12,"backgroundColor":"#009fe3","paddingRight":25},"paddingBottom":55,"buttonsContainer":{"horizontalAlign":"center","gap":10,"width":"100%"},"icon":{"height":72,"url":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD0AAABGCAYAAAB/h5zrAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABhRJREFUeNrsW41y2jgQliVjGxMuhDR37/92l2uvhVIcjGtzuLO6aBRpdyVb9G4azWiABKH99n9XcibSj9V13geu6a7z7+scUhAkbwB6GbFmAVP8X0H/58Y76HfQ76DfQYeOLmLNGKq+pyIouxFzS3jNkZg9MucrvB8B96mIyW8EumV858L8XlLQC5DKqGqHSDX9WeMe6G+BdpZ6jwseDZsfIC0MBa6M7KqEzwr5/hlUu4P3MYzeXGdtfG6uc0eBtgGLQOAjqAo2nppKjnuejBkK2Ak8YwI2ifgTcVYrAJxi9ED80VOIrGH6xr/A8wDAvhBXwmZFYjtVsM8KgB8cAsOG1oCdCgCsw0pjMOAeprqhk8qA0bUV2jKGlo04lQLin5iJioJNxu9+uIF0qcSqhtcugPmLDNA//UppaA5c6lIW7RB+WtjHlYQooCUHOqqUKXJmqMrjzMA7cDinyLZPCV2XembMu8yykTmAn8GztjPa7grmVOmPIavJHBvontYooW0AEwYoGJqEIesh0HnuwPEWgKcTDm93MWz8An+rmNL9BK+pxgUYOjBp6g3QZ9PEFMHZLaP8HAn5bDApRHJ5hL13ILUlQZs0BPJmY994ZJSee1cVwxg1xPkV0HAKXD+Az6CAly5HKhGiCoaEj4wMSCIpofB4ZwkES0LinAOBe66kt8SGI/e+EJs9Qa5cA4FmJ6QytGgk+ptF0++gBePaF8R0BvjtmpFFdhjomviRnmHDo5TujFxAAvFmJ0UazsaU1p3hqDLY50zQY7akfBp3xDona0YYGBg2R33eIZHABQobB2DUApF2rcOpLekK1GqKHWtQujBpIX5zvXtvrD0ExP2OoF3q38oRB+PjKHc0ExKVmLW67PVhKLR9K4sTG4KQF8//1mCLF5GmXy3h97cgzbPHxHpC2j8cmrQ4gQ2fWq8AdAVEqZnBrsGbr+GzEnjvHOvhLW31LikOIZ7aLlf7GcDGFhlHRGMLG3RBxGVM7Ssmp+cAO0Am6BtUdVfmzMZaSzDk2WhIxNTOykhkqMLmM7FHTzRF8pyRgwtG9dQHqPRoDr8ZRPVMP7BnhkvBBZ0TMXeuCy+1w94UA8Au0GwwASw4B3jfGeUhR60lSNjWjoJwSntPo0MKf+MfZRBH0lg+q3vl48Z/EcALq8b9hEhf5+StpxgqjAzyo6fhQBbaMb2nylrPabS7HGPjcIwfEedZMJ0vCTrGZvsQlbL+X3pSX453PgY4WFS9Y1LHBkq/JdTDFGidOkqQ1h8Om+bk23tDC3z5Q8YBHfudY0AY0d3SjeEElaNg4IxTgClFSVoazmrq0N1M+9zpGNlrw6KK18xyZqG+EPM17/UBuz48THGtA5P0kDOzmIoAvQHn1CIdkSlZnB3ajkj+LQnQZ8n0hBVBTG20ZGqRZtRWORtD649wKZlFhUK4l4V4zgljQHpu3O5PZyclVMzzcffFsMsO6a5MHQfwBWfEhBSR1jYuqWwJ9XgWCW/yzTA2hKSf7R6ZzlmXRPjiHsHovtYCGBVy1lVBcZJDOOWsXQi8x3fWOUXuCCdYfatPHDjhyzzrLiG95MbYrQFeMSMC9ZxII5BC48BQIcnkPOZR9QMtFZEBcrLGFWHLPQW6IexWWXUxp9vSeACvxNsOamslLN8YzKWkfOCkaxfCoS0YHv8E9nhyaE9lVVqtxehGvF7j6Bg1fUaEqT0HdCdeL7BivS6sNWzeanDF9tqIuQeHs6Kcn76OQan/m1I1I36Uc6kOSwkphxXbQeXecDy4fBQmyYvg3e8ojIIkJCxdIkKZjiAPgnel80toCaYXSkEf+eTi9a5mqmcvJIC9Y6S6A/TgLjGgtZNRjH6U7qKUERUUJ8l5YPbE9L30XsS0VQJTPFfIakT8jcEF7LcU/MYl6yJ+aEUUCtwMX/oRBd+TOKVRMJQi/PST/chFTBlI3aD/GaOD0MQyqZiz5DPMStzuuS4qZO5CTCib6GA2It0zG5x2016EX7ybRVK3eobDtF3deo7q0M6pnqnBTwabsp+lxOsFODUDUDP0zTJSOyIFGqCfwssFfd+zN8Jbkmcv/xFgALaVsLLFsFFBAAAAAElFTkSuQmCC","width":62},"shadowHorizontalLength":0},"veil":{"backgroundColor":"#000000","backgroundOpacity":0.3}},"score":{"window":{"title":{"fontColor":"#000000","paddingTop":50,"fontFamily":"Arial","fontSize":50,"paddingBottom":15,"textAlign":"center","fontWeight":"bold"},"minWidth":500,"horizontalAlign":"center","timeContainer":{"paddingLeft":100,"paddingTop":10,"horizontalAlign":"center","gap":5,"verticalAlign":"middle","paddingBottom":15,"width":"100%","paddingRight":100},"backgroundColor":"#ffffff","shadowHorizontalLength":0,"shadowColor":"#000000","shadow":true,"shadowVerticalLength":0,"maxWidth":1500,"shadowSpread":4,"closeButton":{"height":45,"backgroundColor":"#009fe3","iconWidth":18,"iconColor":"#ffffff","iconHeight":18,"width":45,"iconLineWidth":2},"paddingLeft":20,"paddingTop":20,"calification":{"fontColor":"#009fe3","paddingTop":15,"fontFamily":"Arial","fontSize":30,"verticalAlign":"middle","paddingLeft":100,"paddingBottom":10,"textAlign":"center","width":"100%","fontWeight":"bold","paddingRight":100},"stats":{"borderColor":"#009fe3","minWidth":150,"horizontalAlign":"center","gap":0,"mainValue":{"fontColor":"#000000","fontFamily":"Arial","fontSize":40,"fontWeight":"bold"},"borderRadius":75,"label":{"fontColor":"#000000","fontFamily":"Arial","fontSize":15,"fontWeight":"normal"},"verticalAlign":"middle","height":150,"layout":"vertical","secondaryValue":{"fontColor":"#000000","paddingLeft":5,"fontFamily":"Arial","fontSize":20,"fontWeight":"bold"},"title":{"fontColor":"#000000","paddingTop":10,"fontFamily":"Arial","fontSize":20,"paddingLeft":5,"fontWeight":"normal","paddingRight":5},"borderSize":1},"shadowBlurRadius":4,"content":{"width":"100%","horizontalAlign":"center"},"shadowOpacity":0.3,"statsContainer":{"paddingLeft":100,"paddingTop":15,"horizontalAlign":"center","overflow":"scroll","gap":20,"verticalAlign":"middle","paddingBottom":15,"contentOpaque":true,"paddingRight":100},"paddingBottom":20,"buttonsContainer":{"paddingLeft":100,"paddingTop":35,"horizontalAlign":"center","gap":8,"verticalAlign":"middle","button":{"fontColor":"#ffffff","paddingTop":12,"horizontalAlign":"center","fontFamily":"Arial","fontWeight":"bold","fontSize":15,"paddingLeft":25,"verticalAlign":"middle","paddingBottom":12,"backgroundColor":"#009fe3","paddingRight":25},"paddingBottom":50,"width":"100%","paddingRight":100},"description":{"fontColor":"#000000","paddingTop":15,"fontFamily":"Arial","fontSize":16,"paddingLeft":100,"paddingBottom":15,"textAlign":"center","fontWeight":"normal","paddingRight":100},"paddingRight":20},"veil":{"backgroundColor":"#000000","backgroundOpacity":0.3}},"question":{"window":{"shadowVerticalLength":0,"mediaContainer":{"buttonPrevious":{"height":37,"iconURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAlCAMAAACAj7KHAAAAA3NCSVQICAjb4U/gAAAAS1BMVEX///8AAAAAAAAAAAAAAACVlZWLi4uDg4MAAAC8vLx8fHx5eXl2dnZ0dHRxcXHDw8PAwMBra2tjY2PY2NiLi4v7+/v5+fn////7+/sWSBTRAAAAGXRSTlMAESIzRFVVVVVmZmZmZmZ3d3d3mZnu7v//nfgMagAAAAlwSFlzAAAK6wAACusBgosNWgAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAAWdEVYdENyZWF0aW9uIFRpbWUAMDYvMjkvMTUTtAt+AAAAkElEQVQokbXSyRaDIAwFUALOQ7W2iP//pQK6CGheF55mmXuYwlPqn0VEUp/uzPd0qAuFvqnsdKEInXVuziTCsDpfraYcxgi25MKh5rsxWHvDhMMIIJWf8EpAeei2CO/CJK8kXR2w5ED6E8B9m0zkNegc8W7ye8AM5LmBWYP/AX8KcgCyA/IGMqrkXJ92239aO3W4D6yL2ECSAAAAAElFTkSuQmCC","width":25},"height":"100%","viewerArea":{"playbackBarHeadShadowColor":"#000000","playbackBarBackgroundOpacity":0.5,"playbackBarHeadBackgroundColor":"#cccccc","backgroundColor":"#e6e6e6","playbackBarHeadOpacity":1,"playbackBarHeadShadowOpacity":0.3,"playbackBarBackgroundColor":"#000000","playbackBarRight":0,"playbackBarHeadShadowHorizontalLength":0,"playbackBarHeadShadow":true,"playbackBarProgressOpacity":0.5,"playbackBarHeadWidth":14,"playbackBarHeadBorderColor":"#ffffff","playbackBarBorderSize":0,"playbackBarHeadShadowVerticalLength":0,"playbackBarHeadBorderSize":3,"playbackBarLeft":0,"playbackBarProgressBackgroundColor":"#3399ff","backgroundOpacity":1,"playbackBarHeadShadowBlurRadius":2,"playbackBarBottom":5,"playbackBarBorderRadius":0,"playbackBarHeadHeight":14,"playbackBarHeadBorderRadius":7,"playbackBarHeadShadowSpread":2,"playbackBarHeight":6},"width":"70%","buttonNext":{"height":37,"iconURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAlCAMAAACAj7KHAAAAA3NCSVQICAjb4U/gAAAAS1BMVEX///8AAAAAAAAAAAAAAACVlZWLi4uDg4MAAAC8vLx8fHx5eXl2dnZ0dHRxcXHDw8PAwMBra2tjY2PY2NiLi4v7+/v5+fn////7+/sWSBTRAAAAGXRSTlMAESIzRFVVVVVmZmZmZmZ3d3d3mZnu7v//nfgMagAAAAlwSFlzAAAK6wAACusBgosNWgAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAAWdEVYdENyZWF0aW9uIFRpbWUAMDYvMjkvMTUTtAt+AAAAjElEQVQokbXTyRaAIAgFUJHmeTL7/y9Naie+Toti2T0R4suYH4qI0HNKGpGV0iYwuoLFlEzeu0YT2dqH2jtFZHN3UR9T6FamKQi3O6Q+STL2O4r6WR4QcTZfdIQjR6NzttxUaKk2Eb/qdql34HfgbPA8eAdwb3jXD/eD7xTnAGcH5g1n9CHXBv8Ln9UJhXMPrAhUbYMAAAAASUVORK5CYII=","width":25}},"backgroundColor":"#ffffff","option":{"gap":10,"label":{"fontColor":"#ffffff","horizontalAlign":"center","fontFamily":"Arial","fontWeight":"bold","backgroundOpacity":0.2,"borderRadius":19,"width":38,"fontSize":18,"verticalAlign":"middle","height":38,"pressedBackgroundOpacity":1,"backgroundColor":"#000000","correct":{"fontColor":"#ffffff","horizontalAlign":"center","fontFamily":"Arial","fontWeight":"bold","backgroundOpacity":1,"borderRadius":19,"width":38,"fontSize":18,"verticalAlign":"middle","height":38,"pressedBackgroundOpacity":1,"backgroundColor":"#39b54a"},"incorrect":{"fontColor":"#ffffff","horizontalAlign":"center","fontFamily":"Arial","fontWeight":"bold","backgroundOpacity":1,"borderRadius":19,"width":38,"fontSize":18,"verticalAlign":"middle","height":38,"pressedBackgroundOpacity":1,"backgroundColor":"#ed1c24"}},"text":{"fontColor":"#404040","paddingTop":9,"fontFamily":"Arial","fontSize":18,"selected":{"fontColor":"#000000","paddingTop":9,"textAlign":"left","fontFamily":"Arial","fontSize":18},"textAlign":"left","verticalAlign":"middle"}},"shadowOpacity":0.3,"width":"60%","shadowSpread":4,"paddingLeft":20,"shadowColor":"#000000","height":"60%","paddingTop":20,"paddingBottom":20,"optionsContainer":{"height":"100%","overflow":"scroll","gap":10,"width":"30%","contentOpaque":true},"buttonsContainer":{"verticalAlign":"bottom","horizontalAlign":"right","button":{"fontColor":"#ffffff","horizontalAlign":"center","fontFamily":"Arial","fontWeight":"bold","backgroundOpacity":0.7,"borderRadius":3,"fontSize":18,"verticalAlign":"middle","paddingLeft":25,"paddingTop":10,"backgroundColor":"#000000","paddingBottom":10,"paddingRight":25}},"paddingRight":20,"minWidth":500,"horizontalAlign":"center","backgroundOpacity":1,"shadow":true,"borderRadius":5,"closeButton":{"height":45,"backgroundColor":"#009FE3","iconWidth":18,"iconColor":"#FFFFFF","iconHeight":18,"width":45,"iconLineWidth":2},"shadowBlurRadius":4,"bodyContainer":{"paddingLeft":30,"height":"100%","gap":35,"paddingBottom":30,"layout":"horizontal","width":"100%","paddingRight":30},"title":{"fontColor":"#000000","paddingTop":25,"fontFamily":"Arial","fontSize":20,"paddingLeft":50,"paddingBottom":40,"textAlign":"center","fontWeight":"bold","paddingRight":50},"shadowHorizontalLength":0},"veil":{"backgroundColor":"#000000","backgroundOpacity":0.3}}};var lo=this['get']('data');var lp=lo['createQuizConfig']['call'](this);lA['call'](this,lp);lp['playList']=lk;lp['player']=this;lp['theme']='theme'in lp?this['mixObject'](ln,lp['theme']):ln;if(lp['questions']){lz['call'](this,lp['questions']);for(var lq=0x0;lq<lp['questions']['length'];++lq){var lr=lp['questions'][lq];lz['call'](this,lr['options']);}}if(lp['objectives']){lz['call'](this,lp['objectives']);}if(lp['califications']){lz['call'](this,lp['califications']);}if(lp['score']){this[lp['score']['id']]=lp['score'];}if(lp['question']){this[lp['question']['id']]=lp['question'];}if(lp['timeout']){this[lp['timeout']['id']]=lp['timeout'];}var ls=lp['data']&&lp['data']['titlesScale']?lp['data']['titlesScale']:0x1;var lt=lp['data']&&lp['data']['bodyScale']?lp['data']['bodyScale']:0x1;if(this['get']('isMobile')){var lu=this['mixObject'](lp['theme'],{'question':{'window':{'width':'100%','height':'100%','minWidth':undefined,'backgroundOpacity':0x1,'borderRadius':0x0,'paddingLeft':0x0,'paddingRight':0x0,'paddingBottom':0x0,'paddingTop':0x0,'verticalAlign':'middle','title':{'paddingBottom':0x19,'paddingTop':0x19},'bodyContainer':{'layout':'vertical','horizontalAlign':'center','paddingLeft':0x0,'paddingRight':0x0,'gap':0x14},'mediaContainer':{'width':'100%','height':'45%'},'optionsContainer':{'width':'100%','height':'55%','paddingLeft':0x14,'paddingRight':0x14}}},'score':{'window':{'description':{'paddingLeft':0xa,'paddingRight':0xa},'calification':{'fontSize':0x14*lt,'paddingLeft':0xa,'paddingRight':0xa}}}});lp['theme']=lu;}var lv=document['getElementById']('metaViewport');var lw=lv?/initial-scale=(\d+(\.\d+)?)/['exec'](lv['getAttribute']('content')):undefined;var lx=lw?lw[0x1]:0x1;lo['scorePortraitConfig']={'theme':{'window':{'minWidth':0xfa/lx,'maxHeight':0x258/lx,'content':{'height':'100%'},'statsContainer':{'layout':'vertical','horizontalAlign':'center','maxHeight':0x258,'paddingLeft':0x0,'paddingRight':0x0,'width':'100%','height':'100%'},'buttonsContainer':{'paddingLeft':0xa,'paddingRight':0xa,'button':{'paddingLeft':0xf,'paddingRight':0xf}}}}};lo['scoreLandscapeConfig']={'theme':{'window':{'title':{'fontSize':0x1e*ls,'paddingTop':0xa},'stats':{'height':0x64},'buttonsContainer':{'paddingBottom':0x14,'paddingTop':0xa},'description':{'paddingBottom':0x5,'paddingTop':0x5}}}};var ly=new TDV['Quiz'](lp);ly['setMaxListeners'](0x32);if(lm===!![]){ly['bind'](TDV['Quiz']['EVENT_PROPERTIES_CHANGE'],function(){if((ly['get'](TDV['Quiz']['PROPERTY']['QUESTIONS_ANSWERED'])+ly['get'](TDV['Quiz']['PROPERTY']['ITEMS_FOUND']))/(ly['get'](TDV['Quiz']['PROPERTY']['QUESTION_COUNT'])+ly['get'](TDV['Quiz']['PROPERTY']['ITEM_COUNT']))==0x1)setTimeout(ly['finish'],0x0);}['bind'](this));}if(ll===!![]){ly['start']();}lo['quiz']=ly;lo['quizConfig']=lp;function lz(lB){for(var lC=0x0;lC<lB['length'];++lC){var lD=lB[lC];if('id'in lD)this[lD['id']]=lD;}}function lA(lE){for(var lF in lE){var lG=lE[lF];if(typeof lG=='object'&&lG!==null)lA['call'](this,lG);else if(typeof lG=='string'&&lG['startsWith']('this.'))lE[lF]=_getObject(this,lG);}}};TDV['Tour']['Script']['getQuizTotalObjectiveProperty']=function(lH){var lI=this['get']('data')['quiz'];var lJ=this['get']('data')['quizConfig'];var lK=lJ['objectives'];var lL=0x0;for(var lM=0x0,lN=lK['length'];lM<lN;++lM){var lO=lK[lM];lL+=lI['getObjective'](lO['id'],lH);}return lL;};TDV['Tour']['Script']['_initSplitViewer']=function(lP){function lQ(){var mb=lP['get']('actualWidth');m1['get']('children')[0x0]['set']('width',mb);m2['get']('children')[0x0]['set']('width',mb);var mc=m5['get']('left');var md=typeof mc=='string'?lR(mc):mc;md+=m5['get']('actualWidth')*0.5;m1['set']('width',lS(md));m2['set']('width',lS(mb-md));}function lR(me){return parseFloat(me['replace']('%',''))/0x64*lP['get']('actualWidth');}function lS(mf){return mf/lP['get']('actualWidth')*0x64+'%';}function lT(mg){lU(mg['source']);}function lU(mh){var mi=mh==m7?m6:m7;if(m8&&mh!=m8||!mh||!mi)return;var mj=mi['get']('camera')['get']('initialPosition')['get']('yaw')-mh['get']('camera')['get']('initialPosition')['get']('yaw');mi['setPosition'](mh['get']('yaw')+mj,mh['get']('pitch'),mh['get']('roll'),mh['get']('hfov'));}function lV(mk){m8=mk['source'];}function lW(ml){lX(ml['source']);}function lX(mm){var mn=mm['get']('viewerArea');if(mn==m3){if(m6){m6['get']('camera')['set']('hoverFactor',m9);}m6=mm;m8=m6;if(m6){m9=m6['get']('camera')['get']('hoverFactor');m6['get']('camera')['set']('hoverFactor',0x0);}}else if(mn==m4){if(m7){m7['get']('camera')['set']('hoverFactor',ma);}m7=mm;m8=m6;if(m7){ma=m7['get']('camera')['get']('hoverFactor');m7['get']('camera')['set']('hoverFactor',0x0);}}lU(mm);}function lY(mo){var mp=this['getCurrentPlayers']();var mq=mp['length'];while(mq-->0x0){var ms=mp[mq];if(ms['get']('viewerArea')!=mo){mp['splice'](mq,0x1);}}for(mq=0x0;mq<mp['length'];++mq){var ms=mp[mq];ms['bind']('preloadMediaShow',lW,this);ms['bind']('cameraPositionChange',lT,this);ms['bind']('userInteractionStart',lV,this);if(ms['get']('panorama'))lX(ms);}return mp;}function lZ(mt){lX(this['getActivePlayerWithViewer'](mt['source']));lU(m8);}var m0=lP['get']('children');var m1=m0[0x0];var m2=m0[0x1];var m3=m1['get']('children')[0x0];var m4=m2['get']('children')[0x0];var m5=m0[0x2];var m6,m7,m8;var m9,ma;lY['call'](this,m3);lY['call'](this,m4);m3['bind']('mouseDown',lZ,this);m4['bind']('mouseDown',lZ,this);lP['bind']('resize',function(){m5['set']('left',(lP['get']('actualWidth')-m5['get']('actualWidth'))*0.5);lQ();},this);m5['bind']('mouseDown',function(mu){var mv=mu['pageX'];var mw=function(mx){var my=mx['pageX'];var mz=mv-my;var mA=lP['get']('actualWidth');var mB=m5['get']('left');var mC=(typeof mB=='string'?lR(mB):mB)-mz;if(mC<0x0){my-=mC;mC=0x0;}else if(mC+m5['get']('actualWidth')>=mA){my-=mC-(mA-m5['get']('actualWidth'));mC=mA-m5['get']('actualWidth');}m5['set']('left',mC);lQ();mv=my;};this['bind']('mouseMove',mw,this);this['bind']('mouseUp',function(){this['unbind']('mouseMove',mw,this);},this);},this);lQ();};TDV['Tour']['Script']['_initTwinsViewer']=function(mD){function mE(){var mZ=mD['get']('actualWidth');mP['get']('children')[0x0]['set']('width',mZ);mQ['get']('children')[0x0]['set']('width',mZ);var n0=mT['get']('left');var n1=typeof n0=='string'?mF(n0):n0;n1+=mT['get']('actualWidth')*0.5;mP['set']('width',mG(n1));mQ['set']('width',mG(mZ-n1));}function mF(n2){return parseFloat(n2['replace']('%',''))/0x64*mD['get']('actualWidth');}function mG(n3){return n3/mD['get']('actualWidth')*0x64+'%';}function mH(n4){mI(n4['source']);}function mI(n5){var n6=n5==mV?mU:mV;if(mW&&n5!=mW||!n5||!n6)return;var n7=n6['get']('camera')['get']('initialPosition')['get']('yaw')-n5['get']('camera')['get']('initialPosition')['get']('yaw');n6['setPosition'](n5['get']('yaw')+n7,n5['get']('pitch'),n5['get']('roll'),n5['get']('hfov'));}function mJ(n8){mW=n8['source'];}function mK(n9){mL(n9['source']);}function mL(na){var nb=na['get']('viewerArea');if(nb==mR){if(mU){mU['get']('camera')['set']('hoverFactor',mX);}mU=na;mW=mU;if(mU){mX=mU['get']('camera')['get']('hoverFactor');mU['get']('camera')['set']('hoverFactor',0x0);}}else if(nb==mS){if(mV){mV['get']('camera')['set']('hoverFactor',mY);}mV=na;mW=mU;if(mV){mY=mV['get']('camera')['get']('hoverFactor');mV['get']('camera')['set']('hoverFactor',0x0);}}mI(na);}function mM(nc){var nd=this['getCurrentPlayers']();var ne=nd['length'];while(ne-->0x0){var ng=nd[ne];if(ng['get']('viewerArea')!=nc){nd['splice'](ne,0x1);}}for(ne=0x0;ne<nd['length'];++ne){var ng=nd[ne];ng['bind']('preloadMediaShow',mK,this);ng['bind']('cameraPositionChange',mH,this);ng['bind']('userInteractionStart',mJ,this);if(ng['get']('panorama'))mL(ng);}return nd;}function mN(nh){mL(this['getActivePlayerWithViewer'](nh['source']));mI(mW);}var mO=mD['get']('children');var mP=mO[0x0];var mQ=mO[0x1];var mR=mP['get']('children')[0x0];var mS=mQ['get']('children')[0x0];var mT=mO[0x2];var mU,mV,mW;var mX,mY;mM['call'](this,mR);mM['call'](this,mS);mR['bind']('mouseDown',mN,this);mS['bind']('mouseDown',mN,this);mD['bind']('resize',function(){mT['set']('left',(mD['get']('actualWidth')-mT['get']('actualWidth'))*0.5);mE();},this);mE();};TDV['Tour']['Script']['isCardboardViewMode']=function(){var ni=this['getByClassName']('PanoramaPlayer');return ni['length']>0x0&&ni[0x0]['get']('viewMode')=='cardboard';};TDV['Tour']['Script']['isPanorama']=function(nj){return['Panorama','HDRPanorama','LivePanorama','Video360','VideoPanorama']['indexOf'](nj['get']('class'))!=-0x1;};TDV['Tour']['Script']['keepCompVisible']=function(nk,nl){var nm='keepVisibility_'+nk['get']('id');var nn=this['getKey'](nm);if(nn==undefined&&nl){this['registerKey'](nm,nl);}else if(nn!=undefined&&!nl){this['unregisterKey'](nm);}};TDV['Tour']['Script']['_initItemWithComps']=function(no,np,nq,nr,ns,nt,nu,nv){var nw=no['get']('items')[np];var nx=nw['get']('media');var ny=nx['get']('loop')==undefined||nx['get']('loop');var nz=nv>0x0;var nA=this['rootPlayer'];var nB=function(nJ){var nK=nt?nt['get']('class'):undefined;var nL=undefined;switch(nK){case'FadeInEffect':case'FadeOutEffect':nL=nA['createInstance'](nJ?'FadeInEffect':'FadeOutEffect');break;case'SlideInEffect':case'SlideOutEffect':nL=nA['createInstance'](nJ?'SlideInEffect':'SlideOutEffect');break;}if(nL){nL['set']('duration',nt['get']('duration'));nL['set']('easing',nt['get']('easing'));if(nK['indexOf']('Slide')!=-0x1)nL['set'](nJ?'from':'to',nt['get'](nt['get']('class')=='SlideInEffect'?'from':'to'));}return nL;};var nC=function(){for(var nM=0x0,nN=nq['length'];nM<nN;++nM){var nO=nq[nM];if(nv>0x0){this['setComponentVisibility'](nO,!ns,0x0,nB(!ns));}else{var nP='visibility_'+nO['get']('id');if(this['existsKey'](nP)){if(this['getKey'](nP))this['setComponentVisibility'](nO,!![],0x0,nB(!![]));else this['setComponentVisibility'](nO,![],0x0,nB(![]));this['unregisterKey'](nP);}}}nw['unbind']('end',nC,this);if(!ny)nx['unbind']('end',nC,this);};var nD=function(){nw['unbind']('stop',nD,this,!![]);nw['unbind']('stop',nD,this);nw['unbind']('begin',nD,this,!![]);nw['unbind']('begin',nD,this);for(var nQ=0x0,nR=nq['length'];nQ<nR;++nQ){this['keepCompVisible'](nq[nQ],![]);}};var nE=function(nS,nT,nU){var nV=function(){var nW=function(o0,o1,o2){nA['setComponentVisibility'](o0,o1,nT,o2,o1?'showEffect':'hideEffect',![]);if(nU>0x0){var o3=nT+nU+(o2!=undefined?o2['get']('duration'):0x0);nA['setComponentVisibility'](o0,!o1,o3,nB(!o1),o1?'hideEffect':'showEffect',!![]);}};for(var nX=0x0,nY=nq['length'];nX<nY;++nX){var nZ=nq[nX];if(ns=='toggle'){if(!nZ['get']('visible'))nW(nZ,!![],nB(!![]));else nW(nZ,![],nB(![]));}else{nW(nZ,ns,nB(ns));}}nw['unbind'](nS,nV,this);if(nS=='end'&&!ny)nx['unbind'](nS,nV,this);};nw['bind'](nS,nV,this);if(nS=='end'&&!ny)nx['bind'](nS,nV,this);};if(nr=='begin'){for(var nF=0x0,nG=nq['length'];nF<nG;++nF){var nH=nq[nF];this['keepCompVisible'](nH,!![]);if(nz){var nI='visibility_'+nH['get']('id');this['registerKey'](nI,nH['get']('visible'));}}nw['bind']('stop',nD,this,!![]);nw['bind']('stop',nD,this);nw['bind']('begin',nD,this,!![]);nw['bind']('begin',nD,this);if(nz){nw['bind']('end',nC,this);if(!ny)nx['bind']('end',nC,this);}}else if(nr=='end'&&nv>0x0){nE('begin',nv,0x0);nv=0x0;}if(nr!=undefined)nE(nr,nu,nv);};TDV['Tour']['Script']['loadFromCurrentMediaPlayList']=function(o4,o5,o6){var o7=o4['get']('selectedIndex');var o8=o4['get']('items')['length'];var o9=(o7+o5)%o8;while(o9<0x0){o9=o8+o9;}if(o7!=o9){if(o6){var oa=o4['get']('items')[o9];this['skip3DTransitionOnce'](oa['get']('player'));}o4['set']('selectedIndex',o9);}};TDV['Tour']['Script']['mixObject']=function(ob,oc){return this['assignObjRecursively'](oc,this['copyObjRecursively'](ob));};TDV['Tour']['Script']['downloadFile']=function(od){if((navigator['userAgent']['toLowerCase']()['indexOf']('chrome')>-0x1||navigator['userAgent']['toLowerCase']()['indexOf']('safari')>-0x1)&&!/(iP)/g['test'](navigator['userAgent'])){var oe=document['createElement']('a');oe['href']=od;oe['setAttribute']('target','_blank');if(oe['download']!==undefined){var of=od['substring'](od['lastIndexOf']('/')+0x1,od['length']);oe['download']=of;}if(document['createEvent']){var og=document['createEvent']('MouseEvents');og['initEvent']('click',!![],!![]);oe['dispatchEvent'](og);return;}}window['open'](od,'_blank');};TDV['Tour']['Script']['openLink']=function(oh,oi){if(!oh||oh==location['href']){return;}if(!oi)oi='_blank';if(oi=='_top'||oi=='_self'){this['updateDeepLink']({'includeCurrentView':!![],'includeCurrentVisibleHotspots':!![],'includeCurrentMeasureModel3DObjects':!![],'setHash':!![]});}var oj=window&&window['process']&&window['process']['versions']&&window['process']['versions']['electron']||navigator&&navigator['userAgent']&&navigator['userAgent']['indexOf']('Electron')>=0x0;if(oj&&oi=='_blank'){if(oh['startsWith']('files/')){oh='/'+oh;}if(oh['startsWith']('//')){oh='https:'+oh;}else if(oh['startsWith']('/')){var ok=window['location']['href']['split']('/');ok['pop']();oh=ok['join']('/')+oh;}var ol=oh['split']('.')['pop']()['toLowerCase']();if((['pdf','zip','xls','xlsx']['indexOf'](ol)==-0x1||oh['startsWith']('file://'))&&window['hasOwnProperty']('require')){var om=window['require']('electron')['shell'];om['openExternal'](oh);}else{window['open'](oh,oi);}}else if(oj&&(oi=='_top'||oi=='_self')){window['location']=oh;}else{var on=this['get']('data')['tour'];if(on['isMobileApp']()&&on['isIOS']())oh='blank:'+oh;var oo=window['open'](oh,oi);oo['focus']();}};TDV['Tour']['Script']['startPanoramaWithModel']=function(op,oq){var or=op['get']('media');var os=_findLocationWithPanorama['call'](this,or);if(!os){oq['call'](this);return;}var ot=os['get']('model');var ou=op['get']('player')['get']('viewerArea');var ow=this['getActivePlayersWithViewer'](ou);var oy=ow['length']==0x1?ow['find'](function(oF){return this['getMediaFromPlayer'](oF)==ot;}['bind'](this)):undefined;if(oy){oq['call'](this);}else{var ow=_getPlayersWithViewer['call'](this,ou);var oy=ow['find'](function(oG){return oG['get']('class')=='Model3DPlayer';});var oz,oA;if(!oy){oy=this['createInstance']('Model3DPlayer');oy['set']('viewerArea',ou);}else{var oB=this['getByClassName']('Model3DPlayListItem');oz=oB['find'](function(oH){return oH['get']('player')==oy;}['bind'](this));}if(!oz){oz=this['createInstance']('Model3DPlayListItem');oz['set']('player',oy);_initModel3DItem['call'](this,oz);}oz['set']('media',ot);var oC=os['get']('forceModelLoading');os['set']('forceModelLoading',!![]);var oD=function(){oz['unbind']('begin',oD,this);oq['call'](this);};var oE=function(){op['unbind']('begin',oE,this);os['set']('forceModelLoading',oC);if(oA)this['disposeInstance'](oA);};op['bind']('begin',oE,this);if(oz['get']('state')=='playing')oD['call'](this);else{oz['bind']('begin',oD,this);oA=this['createInstance']('PlayList');oA['set']('items',[oz]);oA['set']('selectedIndex',0x0);}}};TDV['Tour']['Script']['pauseCurrentPlayers']=function(oI){var oJ=this['getCurrentPlayers']();var oK=oJ['length'];while(oK-->0x0){var oL=oJ[oK];if(oL['get']('state')=='playing'||oL['get']('data')&&oL['get']('data')['playing']||oL['get']('viewerArea')&&oL['get']('viewerArea')['get']('id')==this['getMainViewer']()||oL['get']('camera')&&oL['get']('camera')['get']('idleSequence')&&oL['get']('camera')['get']('timeToIdle')>0x0&&oL['get']('state')=='playing'||oL['get']('class')=='Model3DPlayer'&&oL['get']('model')&&oL['get']('model')['get']('camera')['get']('state')=='playing'){var oM=this['getMediaFromPlayer'](oL);if(oI&&oM&&oM['get']('class')!='Video360'&&'pauseCamera'in oL){oL['pauseCamera']();}else{oL['pause']();}}else{oJ['splice'](oK,0x1);}}return oJ;};TDV['Tour']['Script']['pauseGlobalAudiosWhilePlayItem']=function(oN,oO,oP){var oQ=function(){if(oN['get']('selectedIndex')!=oO){this['resumeGlobalAudios']();}};this['pauseGlobalAudios'](oP,!![]);this['executeFunctionWhenChange'](oN,oO,oQ,oQ);};TDV['Tour']['Script']['pauseGlobalAudios']=function(oR,oS){this['stopTextToSpeech']();if(window['pausedAudiosLIFO']==undefined)window['pausedAudiosLIFO']=[];var oT=this['getByClassName']('VideoPanoramaOverlay');oT=oT['concat'](this['getByClassName']('QuadVideoPanoramaOverlay'));for(var oV=oT['length']-0x1;oV>=0x0;--oV){var oW=oT[oV];if(oW['get']('video')['get']('hasAudio')==![])oT['splice'](oV,0x1);}var oX=this['getByClassName']('Audio')['concat'](oT);var oY={};if(window['currentGlobalAudios']!=undefined)oX=oX['concat'](Object['values'](window['currentGlobalAudios'])['map'](function(p2){if(!p2['allowResume'])oY[p2['audio']['get']('id')]=p2['audio'];return p2['audio'];}));var oZ=[];for(var oV=0x0,p0=oX['length'];oV<p0;++oV){var p1=oX[oV];if(p1&&p1['get']('state')=='playing'&&(oR==undefined||oR['indexOf'](p1)==-0x1)){if(p1['get']('id')in oY){p1['stop']();}else{p1['pause']();oZ['push'](p1);}}}if(oS||oZ['length']>0x0)window['pausedAudiosLIFO']['push'](oZ);return oZ;};TDV['Tour']['Script']['resumeGlobalAudios']=function(){if(window['pausedAudiosLIFO']==undefined)return;if(window['resumeAudiosBlocked']){if(window['pausedAudiosLIFO']['length']>0x1){window['pausedAudiosLIFO'][window['pausedAudiosLIFO']['length']-0x2]=window['pausedAudiosLIFO'][window['pausedAudiosLIFO']['length']-0x2]['concat'](window['pausedAudiosLIFO'][window['pausedAudiosLIFO']['length']-0x1]);window['pausedAudiosLIFO']['splice'](window['pausedAudiosLIFO']['length']-0x1,0x1);}return;}var p3=window['pausedAudiosLIFO']['pop']();if(!p3)return;for(var p4=0x0,p5=p3['length'];p4<p5;++p4){var p6=p3[p4];if(p6['get']('state')=='paused')p6['play']();}};TDV['Tour']['Script']['pauseGlobalAudio']=function(p7){var p8=window['currentGlobalAudios'];if(p8){var p9=p8[p7['get']('id')];if(p9)p7=p9['audio'];}if(p7['get']('state')=='playing')p7['pause']();};TDV['Tour']['Script']['playAudioList']=function(pa,pb){if(pa['length']==0x0)return;if(pa['length']==0x1&&pb){var pc=pa[0x0];pc['set']('loop',!![]);this['playGlobalAudio'](pc,!![],null,!![]);}else{var pd=-0x1;var pe;var pf=this['playGlobalAudio'];var pg=function(){if(++pd>=pa['length']){if(!pb)return;pd=0x0;}pe=pa[pd];pf(pe,!![],pg,!![]);};pg();}};TDV['Tour']['Script']['playGlobalAudioWhilePlayActiveMedia']=function(ph,pi,pj,pk){var pl=this['getActiveMediaWithViewer'](this['getMainViewer']());var pm=this['getFirstPlayListWithMedia'](pl,!![]);var pn=this['getPlayListItemByMedia'](pm,pl);var po=pm['get']('items')['indexOf'](pn);return this['playGlobalAudioWhilePlay'](pm,po,ph,pi,pj,pk);};TDV['Tour']['Script']['playGlobalAudioWhilePlay']=function(pp,pq,pr,ps,pt,pu){var pv=function(pE){if(pE['data']['previousSelectedIndex']==pq){this['stopGlobalAudio'](pr);if(pz){var pF=py['get']('media');var pG=pF['get']('audios');pG['splice'](pG['indexOf'](pr),0x1);pF['set']('audios',pG);}pp['unbind']('change',pv,this);if(pt)pt();}};var px=window['currentGlobalAudios'];if(px&&pr['get']('id')in px){pr=px[pr['get']('id')]['audio'];if(pr['get']('state')!='playing'){pr['play']();}return pr;}pp['bind']('change',pv,this);var py=pp['get']('items')[pq];var pz=py['get']('class')=='PanoramaPlayListItem';if(pz){var pA=py['get']('media');var px=(pA['get']('audios')||[])['slice']();if(pr['get']('class')=='MediaAudio'){var pB=this['rootPlayer']['createInstance']('PanoramaAudio');pB['set']('autoplay',![]);pB['set']('audio',pr['get']('audio'));pB['set']('loop',pr['get']('loop'));pB['set']('id',pr['get']('id'));this['cloneBindings'](pr,pB,'start');this['cloneBindings'](pr,pB,'end');this['cloneBindings'](pr,pB,'stateChange');pr=pB;}px['push'](pr);pA['set']('audios',px);}var pC=this['playGlobalAudio'](pr,ps,function(){pp['unbind']('change',pv,this);if(pt)pt['call'](this);});if(pu===!![]){var pD=function(){if(pC['get']('state')=='playing'){this['pauseGlobalAudios']([pC],!![]);}else if(pC['get']('state')=='stopped'){this['resumeGlobalAudios']();pC['unbind']('stateChange',pD,this);}};pC['bind']('stateChange',pD,this);}return pC;};TDV['Tour']['Script']['playGlobalAudio']=function(pH,pI,pJ,pK){var pL=function(){pH['unbind']('end',pL,this);this['stopGlobalAudio'](pH);if(pJ)pJ['call'](this);};pH=this['getGlobalAudio'](pH);var pM=window['currentGlobalAudios'];if(!pM){pM=window['currentGlobalAudios']={};}pM[pH['get']('id')]={'audio':pH,'asBackground':pK||![],'allowResume':pI};if(pH['get']('state')=='playing'){return pH;}if(!pH['get']('loop')){pH['bind']('end',pL,this);}pH['play']();return pH;};TDV['Tour']['Script']['restartTourWithoutInteraction']=function(pN){var pO=-0x1;this['bind']('userInteraction',pP['bind'](this),this);pP();function pP(){if(pO!=-0x1)clearTimeout(pO);pO=setTimeout(function(){var pQ=this['get']('data')['tour'];if(pQ){if(this['isCardboardViewMode']())location['reload']();else pQ['reload']();}}['bind'](this),pN*0x3e8);}};TDV['Tour']['Script']['resumePlayers']=function(pR,pS){for(var pT=0x0;pT<pR['length'];++pT){var pU=pR[pT];var pV=this['getMediaFromPlayer'](pU);if(!pV)continue;if(pS&&pV['get']('class')!='Video360'&&'pauseCamera'in pU){pU['resumeCamera']();}else if(pU['get']('state')!='playing'){var pW=pU['get']('data');if(!pW){pW={};pU['set']('data',pW);}pW['playing']=!![];var pX=function(){if(pU['get']('state')=='playing'){delete pW['playing'];pU['unbind']('stateChange',pX,this);}};pU['bind']('stateChange',pX,this);pU['play']();}}};TDV['Tour']['Script']['stopGlobalAudios']=function(pY){var pZ=window['currentGlobalAudios'];var q0=this;if(pZ){Object['keys'](pZ)['forEach'](function(q1){var q2=pZ[q1];if(!pY||pY&&!q2['asBackground']){q0['stopGlobalAudio'](q2['audio']);}});}};TDV['Tour']['Script']['stopGlobalAudio']=function(q3){var q4=window['currentGlobalAudios'];if(q4){var q5=q4[q3['get']('id')];if(q5){q3=q5['audio'];delete q4[q3['get']('id')];if(Object['keys'](q4)['length']==0x0){window['currentGlobalAudios']=undefined;}}}if(q3)q3['stop']();};TDV['Tour']['Script']['setCameraSameSpotAsMedia']=function(q6,q7){var q8=this['getCurrentPlayerWithMedia'](q7);if(q8!=undefined){var q9=q6['get']('initialPosition');q9['set']('yaw',q8['get']('yaw'));q9['set']('pitch',q8['get']('pitch'));q9['set']('hfov',q8['get']('hfov'));}};TDV['Tour']['Script']['setComponentVisibility']=function(qa,qb,qc,qd,qe,qf){var qg=this['getKey']('keepVisibility_'+qa['get']('id'));if(qg)return;this['unregisterKey']('visibility_'+qa['get']('id'));var qh=function(){if(qe){qa['set'](qe,qd);}qa['set']('visible',qb);if(qa['get']('class')=='ViewerArea'){try{if(qb)qa['restart']();else if(qa['get']('playbackState')=='playing')qa['pause']();}catch(qm){};}};var qi='effectTimeout_'+qa['get']('id');if(!qf&&window['hasOwnProperty'](qi)){var qk=window[qi];if(qk instanceof Array){for(var ql=0x0;ql<qk['length'];ql++){clearTimeout(qk[ql]);}}else{clearTimeout(qk);}delete window[qi];}else if(qb==qa['get']('visible')&&!qf)return;if(qc&&qc>0x0){var qk=setTimeout(function(){if(window[qi]instanceof Array){var qn=window[qi];var qo=qn['indexOf'](qk);qn['splice'](qo,0x1);if(qn['length']==0x0){delete window[qi];}}else{delete window[qi];}qh();},qc);if(window['hasOwnProperty'](qi)){window[qi]=[window[qi],qk];}else{window[qi]=qk;}}else{qh();}};TDV['Tour']['Script']['setDirectionalPanoramaAudio']=function(qp,qq,qr,qs){qp['set']('yaw',qq);qp['set']('pitch',qr);qp['set']('maximumAngle',qs);};TDV['Tour']['Script']['setLocale']=function(qt){this['stopTextToSpeech']();var qu=this['get']('data')['localeManager'];if(qu)this['get']('data')['localeManager']['setLocale'](qt);else{this['get']('data')['defaultLocale']=qt;this['get']('data')['forceDefaultLocale']=!![];}};TDV['Tour']['Script']['setEndToItemIndex']=function(qv,qw,qx){var qy=function(){if(qv['get']('selectedIndex')==qw){var qz=qv['get']('items')[qx];this['skip3DTransitionOnce'](qz['get']('player'));qv['set']('selectedIndex',qx);}};this['executeFunctionWhenChange'](qv,qw,qy);};TDV['Tour']['Script']['setMapLocation']=function(qA,qB){var qC=function(){qA['unbind']('stop',qC,this);qD['set']('mapPlayer',null);};qA['bind']('stop',qC,this);var qD=qA['get']('player');qD['set']('mapPlayer',qB);};TDV['Tour']['Script']['setMainMediaByIndex']=function(qE){var qF=undefined;if(qE>=0x0&&qE<this['mainPlayList']['get']('items')['length']){qF=this['mainPlayList']['get']('items')[qE];var qG=qF['get']('media');var qH=qG['get']('class')['indexOf']('Panorama')!=-0x1?_findLocationWithPanorama['call'](this,qG):null;if(qH){this['startPanoramaWithModel']['call'](this,qF,function(){this['mainPlayList']['set']('selectedIndex',qE);}['bind'](this));}else{this['mainPlayList']['set']('selectedIndex',qE);}}return qF;};TDV['Tour']['Script']['setMainMediaByName']=function(qI){var qJ=this['getMainViewer']();var qK=this['_getPlayListsWithViewer'](qJ);for(var qL=0x0,qM=qK['length'];qL<qM;++qL){var qN=qK[qL];var qO=qN['get']('items');for(var qP=0x0,qQ=qO['length'];qP<qQ;++qP){var qR=qO[qP];var qS=qR['get']('media')['get']('data');if(qS!==undefined&&qS['label']==qI&&qR['get']('player')['get']('viewerArea')==qJ){qN['set']('selectedIndex',qP);return qR;}}}};TDV['Tour']['Script']['executeAudioAction']=function(qT,qU,qV,qW,qX,qY){if(qT['length']==0x0)return;var qZ,r0;var r1=this['getMainViewer']();if(qV&&!(qV===!![])){var r2=this['getPlayListsWithMedia'](qV);for(var r3=0x0;r3<r2['length'];++r3){var r4=r2[r3];var r6=this['getPlayListItemByMedia'](r4,qV);if(r6&&r6['get']('player')&&r6['get']('player')['get']('viewerArea')==r1){qZ=r4;r0=qZ['get']('items')['indexOf'](r6);break;}}if(!qZ&&r2['length']>0x0){qZ=r2[0x0];r0=this['getPlayListItemIndexByMedia'](qZ,qV);}if(!qZ)qV=!![];}if(qV===!![]){var r7=this['getActiveMediaWithViewer'](r1);if(r7){qZ=this['getFirstPlayListWithMedia'](r7,!![]);var r6=this['getPlayListItemByMedia'](qZ,r7);r0=qZ['get']('items')['indexOf'](r6);}else{qV=null;}}var r8=[];var r9=function(){var rh=r8['concat']();var ri=![];var rj=function(rm){var rn=rm['source']['get']('state');if(rn=='playing'){if(!ri){ri=!![];this['pauseGlobalAudios'](r8,!![]);}}else if(rn=='stopped'){rh['splice'](rh['indexOf'](rm['source']),0x1);if(rh['length']==0x0){this['resumeGlobalAudios']();}rm['source']['unbind']('stateChange',rj,this);}}['bind'](this);for(var rk=0x0,rl=r8['length'];rk<rl;++rk){r8[rk]['bind']('stateChange',rj,this);}}['bind'](this);var ra=function(){for(var ro=0x0,rp=qT['length'];ro<rp;++ro){var rq=qT[ro];r8['push'](this['playGlobalAudio'](rq,qW));}if(qX)r9();}['bind'](this);var rb=function(){for(var rr=0x0,rs=qT['length'];rr<rs;++rr){var rt=qT[rr];r8['push'](this['playGlobalAudioWhilePlay'](qZ,r0,rt,qW));}if(qX)r9();}['bind'](this);var rc=function(){for(var ru=0x0,rv=qT['length'];ru<rv;++ru){this['pauseGlobalAudio'](qT[ru]);}}['bind'](this);var rd=function(){for(var rw=0x0,rx=qT['length'];rw<rx;++rw){this['stopGlobalAudio'](qT[rw]);}}['bind'](this);var re=function(){for(var ry=0x0,rz=qT['length'];ry<rz;++ry){if(this['getGlobalAudio'](qT[ry])['get']('state')=='playing')return!![];}return![];}['bind'](this);if(qU=='playPause'||qU=='playStop'){if(re()){if(qU=='playPause'){rc();}else if(qU=='playStop'){rd();}}else{if(qX){if(qU=='playStop'){this['stopGlobalAudios'](!![]);}}if(qZ){rb();}else{ra();}}}else if(qU=='play'||qU=='forcePlay'){if(qU=='forcePlay')rd();if(qZ||qV===!![]){if(qY){var rf=qZ?qZ['get']('items')[r0]['get']('player'):this['getActivePlayerWithViewer'](this['getMainViewer']());if(rf&&rf['pauseCamera']){var rg=qT['concat']();endCallback=function(rA){rg['splice'](rg['indexOf'](rA),0x1);if(rg['length']==0x0)rf['resumeCamera']();}['bind'](this);rf['pauseCamera']();}}rb();}else{ra();}}else if(qU=='stop'){rd();}else if(qU=='pause'){rc();}};TDV['Tour']['Script']['executeAudioActionByTags']=function(rB,rC,rD,rE,rF,rG,rH){var rI=this['getAudioByTags'](rB,rC);this['executeAudioAction'](rI,rD,rE,rF,rG,rH);};TDV['Tour']['Script']['setPlayListSelectedIndex']=function(rJ,rK){var rL=rJ['get']('items')[rK];var rM=rL['get']('player');var rN=rM['get']('viewerArea');var rO=this['getByClassName']('PlayList');for(var rP of rO){if(rP==rJ)continue;var rQ=rP['get']('selectedIndex');if(rQ!=-0x1){var rR=rP['get']('items')[rQ];var rS=rR['get']('player');if(rS&&rS!=rM&&rS['get']('class')!='Model3DPlayer'&&rS['get']('viewerArea')==rN)rP['set']('selectedIndex',-0x1);}}rJ['set']('selectedIndex',rK);};TDV['Tour']['Script']['setMediaBehaviour']=function(rT,rU,rV,rW){var rX=this;var rY=function(sl){if(sl['data']['state']=='stopped'&&rW){s2['call'](this,!![]);}};var rZ=function(){s8['unbind']('begin',rZ,rX);var sm=s8['get']('media');var sn=sm['get']('class');if(sn!='Panorama'&&sn!='Model3D'||sm['get']('camera')!=undefined&&sm['get']('camera')['get']('initialSequence')!=undefined){s9['bind']('stateChange',rY,rX);}};var s0=function(){var so=s5['get']('selectedIndex');if(so!=-0x1){s7=so;s2['call'](this,![]);}};var s1=function(){s2['call'](this,![]);};var s2=function(sp){if(!s5)return;var sq=s8['get']('media');if((sq['get']('class')=='Video360'||sq['get']('class')=='Video')&&sq['get']('loop')==!![]&&!sp)return;rT['set']('selectedIndex',-0x1);if(sg&&sf!=-0x1){if(sg){if(sf>0x0&&sg['get']('movements')[sf-0x1]['get']('class')=='TargetPanoramaCameraMovement'){var sr=sh['get']('initialPosition');var ss=sr['get']('yaw');var st=sr['get']('pitch');var su=sr['get']('hfov');var sv=sg['get']('movements')[sf-0x1];var sw=sv['get']('targetYaw');var sx=sv['get']('targetPitch');var sy=sv['get']('targetHfov');if(sw!==undefined)sr['set']('yaw',sw);if(sx!==undefined)sr['set']('pitch',sx);if(sy!==undefined)sr['set']('hfov',sy);var sz=function(sC){sr['set']('yaw',ss);sr['set']('pitch',st);sr['set']('hfov',su);sb['unbind']('end',sz,this);};sb['bind']('end',sz,this);}sg['set']('movementIndex',sf);}}if(s9){s8['unbind']('begin',rZ,this);s9['unbind']('stateChange',rY,this);for(var sA=0x0;sA<si['length'];++sA){si[sA]['unbind']('click',s1,this);}}if(se){var sB=this['getMediaFromPlayer'](s9);if((s5==this['mainPlayList']||s5['get']('items')['length']>0x1)&&(sB==undefined||sB==s8['get']('media'))){s5['set']('selectedIndex',s7);}if(rT!=s5)s5['unbind']('change',s0,this);}else{sc['set']('visible',sd);}s5=undefined;};if(!rV){var s3=rT['get']('selectedIndex');var s4=s3!=-0x1?rT['get']('items')[rT['get']('selectedIndex')]['get']('player'):this['getActivePlayerWithViewer'](this['getMainViewer']());if(s4){rV=this['getMediaFromPlayer'](s4);}}var s5=undefined;if(rV){var s6=this['getPlayListsWithMedia'](rV,!![]);if(s6['indexOf'](rT)!=-0x1){s5=rT;}else if(s6['indexOf'](this['mainPlayList'])!=-0x1){s5=this['mainPlayList'];}else if(s6['length']>0x0){s5=s6[0x0];}}if(!s5){rT['set']('selectedIndex',rU);return;}var s7=s5['get']('selectedIndex');var s8=rT['get']('items')[rU];var s9=s8['get']('player');var sa=this['getMediaFromPlayer'](s9);if(rT['get']('selectedIndex')==rU&&sa==s8['get']('media')||s7==-0x1){return;}if(rT['get']('selectedIndex')==rU&&sa!=s8['get']('media'))rT['set']('selectedIndex',-0x1);var sb=s5['get']('items')[s7];var sc=s9['get']('viewerArea');var sd=sc['get']('visible');var se=sc==sb['get']('player')['get']('viewerArea');if(se){if(rT!=s5){s5['set']('selectedIndex',-0x1);s5['bind']('change',s0,this);}}else{sc['set']('visible',!![]);}var sf=-0x1;var sg=undefined;var sh=sb['get']('camera');if(sh){sg=sh['get']('initialSequence');if(sg){sf=sg['get']('movementIndex');}}rT['set']('selectedIndex',rU);var si=[];var sj=function(sD){var sE=s9['get'](sD);if(sE==undefined)return;if(Array['isArray'](sE))si=si['concat'](sE);else si['push'](sE);};sj('buttonStop');for(var sk=0x0;sk<si['length'];++sk){si[sk]['bind']('click',s1,this);}s8['bind']('begin',rZ,rX);this['executeFunctionWhenChange'](rT,rU,rW?s1:undefined);};TDV['Tour']['Script']['setOverlayBehaviour']=function(sF,sG,sH,sI){var sJ=function(){switch(sH){case'triggerClick':this['triggerOverlay'](sF,'click');break;case'stop':case'play':case'pause':sF[sH]();break;case'togglePlayPause':case'togglePlayStop':if(sF['get']('state')=='playing')sF[sH=='togglePlayPause'?'pause':'stop']();else sF['play']();break;}if(sI){if(window['overlaysDispatched']==undefined)window['overlaysDispatched']={};var sO=sF['get']('id');window['overlaysDispatched'][sO]=!![];setTimeout(function(){delete window['overlaysDispatched'][sO];},0x3e8);}};if(sI&&window['overlaysDispatched']!=undefined&&sF['get']('id')in window['overlaysDispatched'])return;var sK=this['getFirstPlayListWithMedia'](sG,!![]);if(sK!=undefined){var sL=this['getPlayListItemByMedia'](sK,sG);var sM=sL['get']('player');if(sK['get']('items')['indexOf'](sL)!=sK['get']('selectedIndex')||this['isPanorama'](sL['get']('media'))&&sM['get']('rendererPanorama')!=sL['get']('media')){var sN=function(sP){sL['unbind']('begin',sN,this);sJ['call'](this);};sL['bind']('begin',sN,this);return;}}sJ['call'](this);};TDV['Tour']['Script']['setOverlaysVisibility']=function(sQ,sR,sS){var sT='overlayEffects';var sU=undefined;var sV=this['getKey'](sT);if(!sV){sV={};this['registerKey'](sT,sV);}for(var sW=0x0,sX=sQ['length'];sW<sX;++sW){var sY=sQ[sW];if(!sY)continue;if(sS&&sS>0x0){sV[sY['get']('id')]=setTimeout(sZ['bind'](this,sY),sS);}else{sZ['call'](this,sY);}}function sZ(t0){var t1=t0['get']('id');var t2=sV[t1];if(t2){clearTimeout(t2);delete t2[t1];}var t3=t0['get']('class')=='PanoramaModel3DLocation'?t0['get']('data')['sprite']:t0;var t4=sR=='toggle'?!t3['get']('enabled'):sR;t3['set']('enabled',t4);if(t0['get']('class')=='PanoramaModel3DLocation')t0['get']('data')['enabled']=t4;var t6=t0['get']('data');if(t4&&t6&&'group'in t6){var t7=this['getOverlaysByGroupname'](t6['group']);for(var t8=0x0,t9=t7['length'];t8<t9;++t8){var tb=t7[t8];if(tb!=t0)tb['set']('enabled',!t4);}}if(!sU)sU=this['getByClassName']('AdjacentPanorama');for(var tc=0x0,td=sU['length'];tc<td;++tc){var te=sU[tc];var t6=te['get']('data');if(!t6)continue;var tb=this[t6['overlayID']];if(tb&&tb==t0){te['set']('enabled',tb['get']('enabled'));}}}};TDV['Tour']['Script']['setOverlaysVisibilityByTags']=function(tf,tg,th,ti,tj){var tk=th?this['getPanoramaOverlaysByTags'](th,tf,ti):this['getOverlaysByTags'](tf,ti);this['setOverlaysVisibility'](tk,tg,tj);};TDV['Tour']['Script']['setComponentsVisibilityByTags']=function(tl,tm,tn,to,tp){var tq=this['getComponentsByTags'](tl,tp);for(var tr=0x0,ts=tq['length'];tr<ts;++tr){var tt=tq[tr];if(tm=='toggle')tt['get']('visible')?to(tt):tn(tt);else tm?tn(tt):to(tt);}};TDV['Tour']['Script']['setModel3DCameraSpot']=function(tu,tv,tw,tx,ty){var tz=tu['get']('selectedIndex');var tA=tu['get']('items');var tB=tv['get']('media');var tC=tB['get']('camera');if(tC['get']('state')=='playing')tC['stop']();if(tz>=0x0&&tA[tz]==tv&&tB['get']('isLoaded')){tC['set']('yaw',tC['get']('yaw')%0x168);this['createTween'](tC,tw,tx,ty)['play']();}else{this['startModel3DWithCameraSpot'](tv,tw);}};TDV['Tour']['Script']['setModel3DCameraSequence']=function(tD,tE,tF){var tG=tD['get']('selectedIndex');var tH=tD['get']('items');var tI=tE['get']('media');if(tH[tG]==tE&&tI['get']('isLoaded')){tF['play']();}else{var tJ=tF['get']('movements');var tK={};if(tJ['length']>0x0){var tL=tJ[0x0];if(tL['get']('class')=='TargetModel3DCameraMovement'){var tM=['x','y','z','yaw','pitch','fov','distance'];for(var tN in tM){tN=tM[tN];var tO=tL['get']('target'+tN['charAt'](0x0)['toUpperCase']()+tN['slice'](0x1));if(tO!==undefined){tK[tN]=tO;}}}}this['startModel3DWithCameraSpot'](tE,tK);var tP=function(){tE['unbind']('begin',tP,this);tF['play']();};tE['bind']('begin',tP,this);}};TDV['Tour']['Script']['setPanoramaCameraWithCurrentSpot']=function(tQ,tR){var tS=this['getActiveMediaWithViewer'](tR||this['getMainViewer']());if(tS!=undefined&&(tS['get']('class')['indexOf']('Panorama')!=-0x1||tS['get']('class')=='Video360')){var tT=tQ['get']('media');var tU=this['clonePanoramaCamera'](tQ['get']('camera'));this['setCameraSameSpotAsMedia'](tU,tS);this['startPanoramaWithCamera'](tT,tU);}};TDV['Tour']['Script']['setPanoramaCameraWithSpot']=function(tV,tW,tX,tY,tZ){var u0=tV['get']('selectedIndex');var u1=tV['get']('items');var u2=tW['get']('player');if(u1[u0]==tW||u2['get']('rendererPanorama')==tW['get']('media')){if(tX===undefined)tX=u2['get']('yaw');if(tY===undefined)tY=u2['get']('pitch');if(tZ===undefined)tZ=u2['get']('hfov');u2['moveTo'](tX,tY,u2['get']('roll'),tZ);}else{var u3=tW['get']('media');var u4=this['clonePanoramaCamera'](tW['get']('camera'));var u5=u4['get']('initialPosition');if(tX!==undefined)u5['set']('yaw',tX);if(tY!==undefined)u5['set']('pitch',tY);if(tZ!==undefined)u5['set']('hfov',tZ);this['startPanoramaWithCamera'](u3,u4);}};TDV['Tour']['Script']['setSurfaceSelectionHotspotMode']=function(u6){var u7=this['getByClassName']('HotspotPanoramaOverlay');var u8=this['getByClassName']('PanoramaPlayer');var u9=u6=='hotspotEnabled';var ua=u6=='circleEnabled';var ub=!!u6;u7['forEach'](function(uc){var ud=uc['get']('data');if(ud&&ud['hasPanoramaAction']==!![])uc['set']('enabledInSurfaceSelection',u9);});u8['forEach'](function(ue){ue['set']('adjacentPanoramaPositionsEnabled',ua);ue['set']('surfaceSelectionEnabled',ub);});this['get']('data')['surfaceSelectionHotspotMode']=u6;};TDV['Tour']['Script']['setValue']=function(uf,ug,uh){try{if('set'in uf)uf['set'](ug,uh);else uf[ug]=uh;}catch(ui){}};TDV['Tour']['Script']['setStartTimeVideo']=function(uj,uk){var ul=this['getPlayListItems'](uj);var um=[];var un=function(){for(var ur=0x0;ur<ul['length'];++ur){var us=ul[ur];us['set']('startTime',um[ur]);us['unbind']('stop',un,this);}};for(var uo=0x0;uo<ul['length'];++uo){var up=ul[uo];var uq=up['get']('player');if(!uq)continue;if(uq['get']('video')==uj&&uq['get']('state')=='playing'){uq['seek'](uk);}else{um['push'](up['get']('startTime'));up['set']('startTime',uk);up['bind']('stop',un,this);}}};TDV['Tour']['Script']['setStartTimeVideoSync']=function(ut,uu){if(ut&&uu)this['setStartTimeVideo'](ut,uu['get']('currentTime'));};TDV['Tour']['Script']['skip3DTransitionOnce']=function(uv){if(uv&&uv['get']('class')=='PanoramaPlayer'){var uw=uv['get']('viewerArea');if(uw&&uw['get']('translationTransitionEnabled')==!![]){var ux=function(){uv['unbind']('preloadMediaShow',ux,this);uw['set']('translationTransitionEnabled',!![]);};uw['set']('translationTransitionEnabled',![]);uv['bind']('preloadMediaShow',ux,this);}}};TDV['Tour']['Script']['shareSocial']=function(uy,uz,uA,uB,uC){if(uz==undefined){uz=location['href']['split'](location['search']||location['hash']||/[?#]/)[0x0];}if(uA){uz+=this['updateDeepLink'](uB,![]);}uz=function(uE){switch(uE){case'email':return'mailto:?body='+encodeURIComponent(uz);case'facebook':var uF=uz['indexOf']('?')!=-0x1;uz=uz['replace']('#','?');if(uF){var uG=uz['lastIndexOf']('?');uz=uz['substring'](0x0,uG)+'&'+uz['substring'](uG+0x1);}return'https://www.facebook.com/sharer/sharer.php?u='+encodeURIComponent(uz);case'linkedin':return'https://www.linkedin.com/shareArticle?mini=true&url='+encodeURIComponent(uz);case'pinterest':return'https://pinterest.com/pin/create/button/?url='+uz;case'telegram':return'https://t.me/share/url?url='+uz;case'twitter':return'https://twitter.com/intent/tweet?source=webclient&url='+uz;case'whatsapp':return'https://api.whatsapp.com/send/?text='+encodeURIComponent(uz);default:return uz;}}(uy);if(uC){for(var uD in uC){uz+='&'+uD+'='+uC[uD];}}if(uy=='clipboard')this['copyToClipboard'](uz);else this['openLink'](uz,'_blank');};TDV['Tour']['Script']['showComponentsWhileMouseOver']=function(uH,uI,uJ,uK){var uL=function(uP){for(var uQ=0x0,uR=uI['length'];uQ<uR;uQ++){var uS=uI[uQ];if(!uK||uK(uS,uP))uS['set']('visible',uP);}};if(this['get']('isMobile')){uL['call'](this,!![]);}else{var uM=-0x1;var uN=function(){uL['call'](this,!![]);if(uM>=0x0)clearTimeout(uM);uH['bind']('rollOut',uO,this);};var uO=function(){var uT=function(){uL['call'](this,![]);};uH['unbind']('rollOut',uO,this);uM=setTimeout(uT['bind'](this),uJ);};uH['bind']('rollOver',uN,this);}};TDV['Tour']['Script']['setObjectsVisibilityByTags']=function(uU,uV,uW,uX){var uY=this['_getObjectsByTags'](uV,['InnerModel3DObject'],'tags2Objects',uW)['filter'](function(uZ){return uU['get']('objects')['indexOf'](uZ)!=-0x1;}['bind'](this));this['setObjectsVisibility'](uY,uX);};TDV['Tour']['Script']['setObjectsVisibilityByID']=function(v0,v1,v2){var v3=v1['map'](function(v4){return this['getModel3DInnerObject'](v0,v4);}['bind'](this));this['setObjectsVisibility'](v3,v2);};TDV['Tour']['Script']['setObjectsVisibility']=function(v5,v6){v5['forEach'](function(v7){if(v7)v7['set']('enabled',v6==='toggle'?!v7['get']('enabled'):v6);}['bind'](this));};TDV['Tour']['Script']['getModel3DInnerObject']=function(v8,v9){var va=v8['get']('objects');for(var vb=0x0,vc=va['length'];vb<vc;++vb){var vd=va[vb];if(vd['get']('class')=='InnerModel3DObject'&&vd['get']('objectId')==v9)return vd;}return undefined;};TDV['Tour']['Script']['showPopupMedia']=function(ve,vf,vg,vh,vi,vj){var vk=this;var vl=function(){window['resumeAudiosBlocked']=![];vg['set']('selectedIndex',-0x1);vk['getMainViewer']()['set']('toolTipEnabled',!![]);this['resumePlayers'](vq,!![]);if(vp){this['unbind']('resize',vn,this);}ve['unbind']('close',vl,this);};var vm=function(){ve['hide']();};var vn=function(){var vr=function(vI){return ve['get'](vI)||0x0;};var vs=vk['get']('actualWidth');var vt=vk['get']('actualHeight');var vu=vk['getMediaWidth'](vf);var vv=vk['getMediaHeight'](vf);var vw=parseFloat(vh)/0x64;var vx=parseFloat(vi)/0x64;var vy=vw*vs;var vz=vx*vt;var vA=vr('footerHeight');var vB=vr('headerHeight');if(!vB){var vC=vr('closeButtonIconHeight')+vr('closeButtonPaddingTop')+vr('closeButtonPaddingBottom');var vD=vk['getPixels'](vr('titleFontSize'))+vr('titlePaddingTop')+vr('titlePaddingBottom');vB=vC>vD?vC:vD;vB+=vr('headerPaddingTop')+vr('headerPaddingBottom');}var vE=vy-vr('bodyPaddingLeft')-vr('bodyPaddingRight')-vr('paddingLeft')-vr('paddingRight');var vF=vz-vB-vA-vr('bodyPaddingTop')-vr('bodyPaddingBottom')-vr('paddingTop')-vr('paddingBottom');var vG=vE/vF;var vH=vu/vv;if(vG>vH){vy=vF*vH+vr('bodyPaddingLeft')+vr('bodyPaddingRight')+vr('paddingLeft')+vr('paddingRight');}else{vz=vE/vH+vB+vA+vr('bodyPaddingTop')+vr('bodyPaddingBottom')+vr('paddingTop')+vr('paddingBottom');}if(vy>vs*vw){vy=vs*vw;}if(vz>vt*vx){vz=vt*vx;}ve['set']('width',vy);ve['set']('height',vz);ve['set']('x',(vs-vr('actualWidth'))*0.5);ve['set']('y',(vt-vr('actualHeight'))*0.5);};if(vj){this['executeFunctionWhenChange'](vg,0x0,vm);}var vo=vf['get']('class');var vp=vo=='Video'||vo=='Video360';vg['set']('selectedIndex',0x0);if(vp){this['bind']('resize',vn,this);vn();vg['get']('items')[0x0]['get']('player')['play']();}else{ve['set']('width',vh);ve['set']('height',vi);}window['resumeAudiosBlocked']=!![];this['getMainViewer']()['set']('toolTipEnabled',![]);var vq=this['pauseCurrentPlayers'](!![]);ve['bind']('close',vl,this);ve['show'](this,!![]);};TDV['Tour']['Script']['showPopupImage']=function(vJ,vK,vL,vM,vN,vO,vP,vQ,vR,vS,vT,vU){var vV=![];var vW=function(){wd['unbind']('loaded',vZ,this);w3['call'](this);};var vX=function(){wd['unbind']('click',vX,this);if(wh!=undefined){clearTimeout(wh);}};var vY=function(){setTimeout(w7,0x0);};var vZ=function(){this['unbind']('click',vW,this);wc['set']('visible',!![]);w7();we['set']('visible',!![]);wd['unbind']('loaded',vZ,this);wd['bind']('resize',vY,this);wh=setTimeout(w0['bind'](this),0xc8);};var w0=function(){wh=undefined;if(vQ){wd['bind']('click',vX,this);w2['call'](this);}wd['bind']('userInteractionStart',w8,this);wd['bind']('userInteractionEnd',w9,this);wd['bind']('backgroundClick',w3,this);if(vK){wd['bind']('click',w5,this);wd['set']('imageCursor','hand');}we['bind']('click',w3,this);if(vT)vT['call'](this);};var w1=function(){if(vQ&&wh){clearTimeout(wh);wh=undefined;}};var w2=function(){if(vQ){w1();wh=setTimeout(w3['bind'](this),vQ);}};var w3=function(){this['getMainViewer']()['set']('toolTipEnabled',!![]);vV=!![];if(wh)clearTimeout(wh);if(wi)clearTimeout(wi);if(vQ)vX();if(vU)vU['call'](this);wd['set']('visible',![]);if(vO&&vO['get']('duration')>0x0){vO['bind']('end',w4,this);}else{wd['set']('image',null);}we['set']('visible',![]);wc['set']('visible',![]);this['unbind']('click',vW,this);wd['unbind']('backgroundClick',w3,this);wd['unbind']('userInteractionStart',w8,this);wd['unbind']('userInteractionEnd',w9,this,!![]);wd['unbind']('resize',vY,this);if(vK){wd['unbind']('click',w5,this);wd['set']('cursor','default');}we['unbind']('click',w3,this);this['resumePlayers'](wg,vR==null||vS);if(vS){this['resumeGlobalAudios']();}if(vR){this['stopGlobalAudio'](vR);}};var w4=function(){wd['set']('image',null);vO['unbind']('end',w4,this);};var w5=function(){wd['set']('image',w6()?vJ:vK);};var w6=function(){return wd['get']('image')==vK;};var w7=function(){var wj=wd['get']('actualWidth')-wd['get']('imageLeft')-wd['get']('imageWidth')+0xa;var wk=wd['get']('imageTop')+0xa;if(wj<0xa)wj=0xa;if(wk<0xa)wk=0xa;we['set']('right',wj);we['set']('top',wk);};var w8=function(){w1();if(wi){clearTimeout(wi);wi=undefined;}else{we['set']('visible',![]);}};var w9=function(){w2['call'](this);if(!vV){wi=setTimeout(wa,0x12c);}};var wa=function(){wi=undefined;we['set']('visible',!![]);w7();};var wb=function(wl){var wm=wl['get']('data');if(wm&&'extraLevels'in wm){var wn=this['rootPlayer']['createInstance'](wl['get']('class'));var wo=wm['extraLevels'];for(var wp=0x0;wp<wo['length'];wp++){var wq=wo[wp];if(typeof wq=='string')wo[wp]=this[wq['replace']('this.','')];}wn['set']('levels',wl['get']('levels')['concat'](wo));wl=wn;}return wl;};this['getMainViewer']()['set']('toolTipEnabled',![]);var wc=this['veilPopupPanorama'];var wd=this['zoomImagePopupPanorama'];var we=this['closeButtonPopupPanorama'];if(vP){for(var wf in vP){we['set'](wf,vP[wf]);}}var wg=this['pauseCurrentPlayers'](vR==null||!vS);if(vS){this['pauseGlobalAudios'](null,!![]);}if(vR){this['playGlobalAudio'](vR,!![]);}var wh=undefined;var wi=undefined;vJ=wb['call'](this,vJ);if(vK)vK=wb['call'](this,vK);wd['bind']('loaded',vZ,this);setTimeout(function(){this['bind']('click',vW,this,![]);}['bind'](this),0x0);wd['set']('image',vJ);wd['set']('customWidth',vL);wd['set']('customHeight',vM);wd['set']('showEffect',vN);wd['set']('hideEffect',vO);wd['set']('visible',!![]);return wd;};TDV['Tour']['Script']['showPopupPanoramaOverlay']=function(wr,ws,wt,wu,wv,ww,wx,wy){var wz=this['isCardboardViewMode']();if(wr['get']('visible')||!wz&&this['zoomImagePopupPanorama']['get']('visible'))return;this['getMainViewer']()['set']('toolTipEnabled',![]);if(!wz){var wA=this['zoomImagePopupPanorama'];var wB=wr['get']('showDuration');var wC=wr['get']('hideDuration');var wE=this['pauseCurrentPlayers'](ww==null||!wx);var wF=wr['get']('popupMaxWidth');var wG=wr['get']('popupMaxHeight');var wH=function(){var wL=function(){if(!this['isCardboardViewMode']())wr['set']('visible',![]);};wr['unbind']('showEnd',wH,this);wr['set']('showDuration',0x1);wr['set']('hideDuration',0x1);this['showPopupImage'](wt,wu,wr['get']('popupMaxWidth'),wr['get']('popupMaxHeight'),null,null,ws,wv,ww,wx,wL,wI);};var wI=function(){var wM=function(){wr['unbind']('hideEnd',wM,this);if(wy)wy();};var wN=function(){wr['unbind']('showEnd',wN,this);wr['bind']('hideEnd',wM,this,!![]);wr['set']('visible',![]);wr['set']('showDuration',wB);wr['set']('popupMaxWidth',wF);wr['set']('popupMaxHeight',wG);};this['resumePlayers'](wE,ww==null||!wx);var wO=wA['get']('imageWidth');var wP=wA['get']('imageHeight');wr['bind']('showEnd',wN,this,!![]);wr['set']('showDuration',0x1);wr['set']('hideDuration',wC);wr['set']('popupMaxWidth',wO);wr['set']('popupMaxHeight',wP);if(wr['get']('visible'))wN();else wr['set']('visible',!![]);this['getMainViewer']()['set']('toolTipEnabled',!![]);};wr['bind']('showEnd',wH,this,!![]);}else{var wJ=function(){this['resumePlayers'](wE,ww==null||wx);if(wx){this['resumeGlobalAudios']();}if(ww){this['stopGlobalAudio'](ww);}if(wu){wr['set']('image',wt);wr['unbind']('click',wK,this);}wr['unbind']('hideEnd',wJ,this);this['getMainViewer']()['set']('toolTipEnabled',!![]);if(wy)wy();};var wK=function(){wr['set']('image',wr['get']('image')==wt?wu:wt);};var wE=this['pauseCurrentPlayers'](ww==null||!wx);if(wx){this['pauseGlobalAudios'](null,!![]);}if(ww){this['playGlobalAudio'](ww,!![]);}if(wu)wr['bind']('click',wK,this);wr['bind']('hideEnd',wJ,this,!![]);}wr['set']('visible',!![]);};TDV['Tour']['Script']['showPopupPanoramaVideoOverlay']=function(wQ,wR,wS,wT,wU){var wV=![];var wW=function(){wQ['unbind']('showEnd',wW);x0['bind']('click',wY,this);wZ();x0['set']('visible',!![]);}['bind'](this);var wX=function(){wV=!![];if(!wQ['get']('loop'))wY();}['bind'](this);var wY=function(){window['resumeAudiosBlocked']=![];this['getMainViewer']()['set']('toolTipEnabled',!![]);wQ['set']('visible',![]);x0['set']('visible',![]);x0['unbind']('click',wY,this);wQ['unbind']('end',wX,this);wQ['unbind']('hideEnd',wY,this,!![]);this['resumePlayers'](x2,!![]);if(wS){this['resumeGlobalAudios']();}if(wT)wT();if(wU&&wV)wU();}['bind'](this);var wZ=function(){var x3=0xa;var x4=0xa;x0['set']('right',x3);x0['set']('top',x4);}['bind'](this);this['getMainViewer']()['set']('toolTipEnabled',![]);var x0=this['closeButtonPopupPanorama'];if(wR){for(var x1 in wR){x0['set'](x1,wR[x1]);}}window['resumeAudiosBlocked']=!![];var x2=this['pauseCurrentPlayers'](!![]);if(wS){this['pauseGlobalAudios']();}wQ['bind']('end',wX,this,!![]);wQ['bind']('showEnd',wW,this,!![]);wQ['bind']('hideEnd',wY,this,!![]);wQ['set']('visible',!![]);};TDV['Tour']['Script']['showWindow']=function(x5,x6,x7){if(x5['get']('visible')==!![]){return;}var x8=function(){this['getMainViewer']()['set']('toolTipEnabled',!![]);if(x7){this['resumeGlobalAudios']();}x9();this['resumePlayers'](xc,!x7);x5['unbind']('close',x8,this);};var x9=function(){x5['unbind']('click',x9,this);if(xa!=undefined){clearTimeout(xa);}};var xa=undefined;if(x6){var xb=function(){x5['hide']();};x5['bind']('click',x9,this);xa=setTimeout(xb,x6);}this['getMainViewer']()['set']('toolTipEnabled',![]);if(x7){this['pauseGlobalAudios'](null,!![]);}var xc=this['pauseCurrentPlayers'](!x7);x5['bind']('close',x8,this);x5['show'](this,!![]);};TDV['Tour']['Script']['startModel3DWithCameraSpot']=function(xd,xe){var xf=xd['get']('media');var xg=window['currentPanoramasWithCameraChanged']==undefined||!(xf['get']('id')in window['currentPanoramasWithCameraChanged']);if(!xg){return;}var xh=xf['get']('camera');xe=Object['assign']({},xe);if(!xf['get']('isLoaded')){var xi={};for(var xk in xe){var xl='initial'+xk['charAt'](0x0)['toUpperCase']()+xk['slice'](0x1);xi[xl]=xh['get'](xl);xe[xl]=xe[xk];delete xe[xk];}if(window['currentPanoramasWithCameraChanged']==undefined){window['currentPanoramasWithCameraChanged']={};}var xm=xf['get']('id');window['currentPanoramasWithCameraChanged'][xm]=[xd];var xn=function(){if(xm in window['currentPanoramasWithCameraChanged']){delete window['currentPanoramasWithCameraChanged'][xm];}xd['unbind']('begin',xn,this);for(var xv in xi){xh['set'](xv,xi[xv]);}};xd['bind']('begin',xn,this);}else{for(var xk in xe){xh['set'](xk,xe[xk]);}xh['setStoredPosition'](xe);}var xo=xd['get']('player');var xp=xo['get']('viewerArea');var xq=this['getActivePlayersWithViewer'](xp);var xr=xq['find'](function(xw){return this['getMediaFromPlayer'](xw)['get']('class')['indexOf']('Panorama')!=-0x1;}['bind'](this));var xs=xf['get']('data');if(xr&&xs['panoramaLocations']){var xt=this['getMediaFromPlayer'](xr);var xu=_getObject(this,xs['panoramaLocations']['find'](xx=>xt==_getObject(this,_getObject(this,xx)['get']('data')['panorama'])));if(xu&&!xu['get']('forceModelLoading')){xu['set']('forceModelLoading',!![]);xd['bind']('begin',function xy(){xd['unbind']('begin',xy,this);xu['set']('forceModelLoading',![]);},this);}}};TDV['Tour']['Script']['startPanoramaWithCamera']=function(xz,xA){var xB=this['getByClassName']('PlayList');if(xB['length']==0x0)return;var xC=window['currentPanoramasWithCameraChanged']==undefined||!(xz['get']('id')in window['currentPanoramasWithCameraChanged']);var xD=[];for(var xF=0x0,xG=xB['length'];xF<xG;++xF){var xH=xB[xF];var xI=xH['get']('items');for(var xJ=0x0,xK=xI['length'];xJ<xK;++xJ){var xM=xI[xJ];if(xM['get']('media')==xz&&(xM['get']('class')=='PanoramaPlayListItem'||xM['get']('class')=='Video360PlayListItem')){if(xC){xD['push']({'camera':xM['get']('camera'),'item':xM});}xM['set']('camera',xA);}}}if(xD['length']>0x0){if(window['currentPanoramasWithCameraChanged']==undefined){window['currentPanoramasWithCameraChanged']={};}var xN=xz['get']('id');window['currentPanoramasWithCameraChanged'][xN]=xD;var xO=function(){if(xN in window['currentPanoramasWithCameraChanged']){delete window['currentPanoramasWithCameraChanged'][xN];}for(var xQ=0x0;xQ<xD['length'];xQ++){xD[xQ]['item']['set']('camera',xD[xQ]['camera']);xD[xQ]['item']['unbind']('end',xO,this);}};for(var xF=0x0;xF<xD['length'];xF++){var xP=xD[xF];var xM=xP['item'];this['skip3DTransitionOnce'](xM['get']('player'));xM['bind']('end',xO,this);}}};TDV['Tour']['Script']['stopAndGoCamera']=function(xR,xS){var xT=xR['get']('initialSequence');xT['pause']();var xU=function(){xT['play']();};setTimeout(xU,xS);};TDV['Tour']['Script']['syncPlaylists']=function(xV){var xW=function(y4,y5){for(var y6=0x0,y7=xV['length'];y6<y7;++y6){var y8=xV[y6];if(y8!=y5){var y9=y8['get']('items');for(var ya=0x0,yb=y9['length'];ya<yb;++ya){if(y9[ya]['get']('media')==y4){if(y8['get']('selectedIndex')!=ya){y8['set']('selectedIndex',ya);}break;}}}}};var xX=function(yc){var yd=yc['source'];var ye=yd['get']('selectedIndex');if(ye<0x0)return;var yf=yd['get']('items')[ye]['get']('media');xW(yf,yd);};var xY=function(yg){var yh=yg['source']['get']('panoramaMapLocation');if(yh){var yi=yh['get']('map');xW(yi);}};for(var y0=0x0,y2=xV['length'];y0<y2;++y0){xV[y0]['bind']('change',xX,this);}var y3=this['getByClassName']('MapPlayer');for(var y0=0x0,y2=y3['length'];y0<y2;++y0){y3[y0]['bind']('panoramaMapLocation_change',xY,this);}};TDV['Tour']['Script']['translate']=function(yj){return this['get']('data')['localeManager']['trans'](yj);};TDV['Tour']['Script']['triggerOverlay']=function(yk,yl){if(yk['get']('areas')!=undefined){var ym=yk['get']('areas');for(var yn=0x0;yn<ym['length'];++yn){ym[yn]['trigger'](yl);}}else{yk['trigger'](yl);}};TDV['Tour']['Script']['updateDeepLink']=function(yo){yo=yo||{};var yp=this['mainPlayList']['get']('selectedIndex');var yq;var yr=yp>=0x0?this['mainPlayList']['get']('items')[yp]['get']('media'):this['getActiveMediaWithViewer'](this['getMainViewer']());if(yr!=undefined){var yt=yr['get']('data');if(yt&&yt['label']){yq='#media-name='+encodeURIComponent(yt['label']);}else if(yp>=0x0){yq='#media='+(yp+0x1);}}if(yr){if(yo['includeCurrentView']===!![]){var yu=this['getActivePlayerWithViewer'](this['getMainViewer']());if(yu){switch(yu['get']('class')){case'PanoramaPlayer':var yv=yu['get']('yaw');var yw=yu['get']('pitch');if(!isNaN(yv)&&!isNaN(yw))yq+='&yaw='+yv['toFixed'](0x2)+'&pitch='+yw['toFixed'](0x2);break;case'Model3DPlayer':var yx=yu['get']('model');var yy=yx['get']('camera');var yz=[];yz['push']('yaw='+yy['get']('yaw')['toFixed'](0x2));yz['push']('pitch='+yy['get']('pitch')['toFixed'](0x2));yz['push']('x='+yy['get']('x')['toFixed'](0x5));yz['push']('y='+yy['get']('y')['toFixed'](0x5));yz['push']('z='+yy['get']('z')['toFixed'](0x5));if(yy['get']('class')=='OrbitModel3DCamera')yz['push']('distance='+yy['get']('distance')['toFixed'](0x5));yq+='&'+yz['join']('&');break;}}}if(yo['includeCurrentVisibleHotspots']===!![]){var yA=this['getOverlays'](yr);var yB=[];var yC=[];for(var yD=0x0,yE=yA['length'];yD<yE;++yD){var yF=yA[yD];var yG=yF['get']('enabled');var yt=yF['get']('data');if(yG===undefined||!yt||!yt['label'])continue;var yH=encodeURIComponent(yt['label']);var yI=yt['group'];if(yG!=yt['defaultEnabledValue']){if(yG){yB['push'](yH);}else if(!yI){yC['push'](yH);}}}if(yB['length']>0x0)yq+='&son='+yB['join'](',');if(yC['length']>0x0)yq+='&hon='+yC['join'](',');if(yr['get']('class')=='Model3D'){var yJ=yr['get']('variant');if(yJ)yq+='&variant='+yJ;var yK=yr['get']('objects');var yL=[];var yM=[];yK['forEach'](function(yO){if(yO['get']('class')=='InnerModel3DObject')(yO['get']('enabled')?yL:yM)['push'](yO['get']('objectId'));});if(yL['length']>0x0)yq+='&sobjids='+yL['join'](',');if(yM['length']>0x0)yq+='&hobjids='+yM['join'](',');}}if(yo['includeCurrentMeasureModel3DObjects']===!![]&&yr['get']('class')=='Model3D'){var yN=[];yr['get']('objects')['forEach'](function(yP){if(yP['get']('class')=='MeasureModel3DObject'&&yP['get']('mode')!='create'){var yQ=[yP['get']('data')['id'],yP['get']('x'),yP['get']('y'),yP['get']('z')];yP['get']('points')['forEach'](function(yR){yQ['push'](yR['get']('x'),yR['get']('y'),yR['get']('z'));});if(yQ['length']>0x4){yN['push'](yQ['join'](','));}}});if(yN['length']>0x0)yq+='&measures='+yN['join']('+');}}if(yq&&yo['setHash']===!![]){location['hash']=yq;}return yq;};TDV['Tour']['Script']['updateMediaLabelFromPlayList']=function(yS,yT,yU){var yV=function(){var yX=yS['get']('selectedIndex');if(yX>=0x0){var yY=function(){z1['unbind']('begin',yY);yZ(yX);};var yZ=function(z2){var z3=z1['get']('media');var z4=z3['get']('data');var z5=z4!==undefined?z4['description']:undefined;z0(z5);};var z0=function(z6){if(z6!==undefined){yT['set']('html','<div\x20style=\x22text-align:left\x22><SPAN\x20STYLE=\x22color:#FFFFFF;font-size:12px;font-family:Verdana\x22><span\x20color=\x22white\x22\x20font-family=\x22Verdana\x22\x20font-size=\x2212px\x22>'+z6+'</SPAN></div>');}else{yT['set']('html','');}var z7=yT['get']('html');yT['set']('visible',z7!==undefined&&z7);};var z1=yS['get']('items')[yX];if(yT['get']('html')){z0('Loading...');z1['bind']('begin',yY);}else{yZ(yX);}}};var yW=function(){yT['set']('html',undefined);yS['unbind']('change',yV,this);yU['unbind']('stop',yW,this);};if(yU){yU['bind']('stop',yW,this);}yS['bind']('change',yV,this);yV();};TDV['Tour']['Script']['updateVideoCues']=function(z8,z9){var za=z8['get']('items')[z9];var zb=za['get']('media');if(zb['get']('cues')['length']==0x0)return;var zc=za['get']('player');var zd=[];var ze=function(){if(z8['get']('selectedIndex')!=z9){zb['unbind']('cueChange',zf,this);z8['unbind']('change',ze,this);}};var zf=function(zg){var zh=zg['data']['activeCues'];for(var zi=0x0,zj=zd['length'];zi<zj;++zi){var zk=zd[zi];if(zh['indexOf'](zk)==-0x1&&(zk['get']('startTime')>zc['get']('currentTime')||zk['get']('endTime')<zc['get']('currentTime')+0.5)){zk['trigger']('end');}}zd=zh;};zb['bind']('cueChange',zf,this);z8['bind']('change',ze,this);};TDV['Tour']['Script']['visibleComponentsIfPlayerFlagEnabled']=function(zl,zm){var zn=this['get'](zm);for(var zo in zl){zl[zo]['set']('visible',zn);}};TDV['Tour']['Script']['quizStart']=function(){var zp=this['get']('data')['quiz'];return zp?zp['start']():undefined;};TDV['Tour']['Script']['quizFinish']=function(){var zq=this['get']('data')['quiz'];return zq?zq['finish']():undefined;};TDV['Tour']['Script']['quizPauseTimer']=function(){var zr=this['get']('data')['quiz'];return zr?zr['pauseTimer']():undefined;};TDV['Tour']['Script']['quizResumeTimer']=function(){var zs=this['get']('data')['quiz'];return zs?zs['continueTimer']():undefined;};TDV['Tour']['Script']['quizSetItemFound']=function(zt){var zu=this['get']('data')['quiz'];if(zu)zu['setItemFound'](zt);};TDV['Tour']['Script']['quizShowQuestion']=function(zv){var zw=this['get']('data');var zx=zw['quiz'];var zy;if(zx){var zz=this['pauseCurrentPlayers'](!![]);var zA=this[zv];var zB;if(!zA['media']){zB=this['get']('isMobile')?{'theme':{'window':{'height':undefined,'maxHeight':this['get']('actualHeight'),'optionsContainer':{'height':'100%'}}}}:{'theme':{'window':{'width':'40%','height':undefined,'maxHeight':0x2bc,'optionsContainer':{'width':'100%'}}}};}else if(this['get']('isMobile')&&this['get']('orientation')=='landscape'){zB={'theme':{'window':{'bodyContainer':{'layout':'horizontal','paddingLeft':0x1e,'paddingRight':0x1e},'mediaContainer':{'width':'60%','height':'100%'},'buttonsContainer':{'paddingLeft':0x14,'paddingRight':0x14},'optionsContainer':{'width':'40%','height':'100%','paddingLeft':0x0,'paddingRight':0x0}}}};}if(this['get']('isMobile')&&this['get']('orientation')=='landscape'){var zC=this['get']('data')['tour']['getNotchValue']();if(zC>0x0){zB=this['mixObject'](zB||{},{'theme':{'window':{'width':undefined,'left':zC,'right':zC}}});}}var zD=this['get']('data')['textToSpeechConfig']['speechOnQuizQuestion']&&!!zA['title'];if(zD)this['textToSpeech'](zA['title'],zv);zy=zx['showQuestion'](zv,zB);zy['then'](function(zE){if(zD)this['stopTextToSpeech']();this['resumePlayers'](zz,!![]);}['bind'](this));}return zy;};TDV['Tour']['Script']['quizShowScore']=function(zF){var zG=this['get']('data');var zH=zG['quiz'];if(zH){if(this['get']('isMobile')){zF=zF||{};zF=this['mixObject'](zF,zG[this['get']('orientation')=='portrait'?'scorePortraitConfig':'scoreLandscapeConfig']);}return zH['showScore'](zF);}};TDV['Tour']['Script']['quizShowTimeout']=function(zI,zJ){var zK=this['get']('data');var zL=zK['quiz'];if(zL){if(this['get']('isMobile')){zJ=zJ||{};zJ=this['mixObject'](zJ,zK[this['get']('orientation')=='portrait'?'scorePortraitConfig':'scoreLandscapeConfig']);}zL['showTimeout'](zI,zJ);}};TDV['Tour']['Script']['stopTextToSpeech']=function(zM){if(window['speechSynthesis']&&(zM==undefined||this['t2sLastID']==zM)){var zN=window['speechSynthesis'];if(zN['speaking']){zN['cancel']();}this['t2sLastID']=undefined;}};TDV['Tour']['Script']['getStateTextToSpeech']=function(zO){return this['t2sLastID']==zO?'playing':'stopped';};TDV['Tour']['Script']['textToSpeech']=function(zP,zQ,zR){if(this['get']('mute')){return;}var zS=this['get']('data');var zT=zS['disableTTS']||![];if(zT)return;if(zQ!=undefined&&this['t2sLastID']!=zQ||zQ==undefined){zR=zR||0x0;if(this['t2sLastID']&&zR>this['t2sLastPriority']){return;}var zU=zS['tour'];var zV=zS['textToSpeechConfig'];var zW=zS['localeManager']['currentLocaleID'];if(window['speechSynthesis']){var zX=window['speechSynthesis'];if(zX['speaking']){zX['cancel']();}var zY=new SpeechSynthesisUtterance(zP);if(zW)zY['lang']=zW;var zZ;if(zV){zY['volume']=zV['volume'];zY['pitch']=zV['pitch'];zY['rate']=zV['rate'];if(zV['stopBackgroundAudio'])this['pauseGlobalAudios'](null,!![]);}zY['onend']=function(){this['t2sLastID']=null;if(zZ)clearInterval(zZ);if(zV['stopBackgroundAudio'])this['resumeGlobalAudios']();}['bind'](this);if(navigator['userAgent']['indexOf']('Chrome')!=-0x1&&!this['get']('isMobile')){zZ=setInterval(function(){zX['pause']();zX['resume']();},0xbb8);}zX['speak'](zY);this['t2sLastPriority']=zR;this['t2sLastID']=zQ;}else if(zU['isMobileApp']()){if(!zU['isIOS']()){var A0=function(A1,A2){var A3={'command':'tts','type':A1};if(A2)A3=this['mixObject'](A3,A2);android['sendJSON'](JSON['stringify'](A3));}['bind'](this);android['onTTSEnd']=function(){this['t2sLastID']=null;if(zV['stopBackgroundAudio'])this['resumeGlobalAudios']();android['onTTSEnd']=undefined;}['bind'](this);A0('stop');if(zV){A0('init',{'volume':zV['volume'],'pitch':zV['pitch'],'rate':zV['rate'],'language':zW});if(zV['stopBackgroundAudio'])this['pauseGlobalAudios'](null,!![]);}A0('play',{'text':zP,'androidCallback':'onTTSEnd'});}else{console['error']('Text\x20to\x20Speech\x20isn\x27t\x20supported\x20on\x20this\x20browser');}}else{console['error']('Text\x20to\x20Speech\x20isn\x27t\x20supported\x20on\x20this\x20browser');}}};TDV['Tour']['Script']['textToSpeechComponent']=function(A4){var A5=A4['get']('class');var A6;if(A5=='HTMLText'){var A7=A4['get']('html');if(A7){A6=this['htmlToPlainText'](A7,{'linkProcess':function(A8,A9){return A9;}});}}else if(A5=='BaseButton'){A6=A4['get']('label');}else if(A5=='Label'){A6=A4['get']('text');}if(A6){this['textToSpeech'](A6,A4['get']('id'));}};TDV['Tour']['Script']['toggleTextToSpeechComponent']=function(Aa){var Ab=Aa['get']('id');if(this['getStateTextToSpeech'](Ab)!='playing')this['textToSpeechComponent'](Aa);else this['stopTextToSpeech'](Ab);};TDV['Tour']['Script']['_initTTSTooltips']=function(){function Ac(Ae){var Af=Ae['source'];this['textToSpeech'](Af['get']('toolTip'),Af['get']('id'),0x1);}function Ad(Ag){var Ah=Ag['source'];this['stopTextToSpeech'](Ah['get']('id'));}setTimeout(function(){var Ai=this['getByClassName']('UIComponent');for(var Aj=0x0,Ak=Ai['length'];Aj<Ak;++Aj){var Al=Ai[Aj];var Am=Al['get']('toolTip');if(!!Am||Al['get']('class')=='ViewerArea'){Al['bind']('toolTipShow',Ac,this);Al['bind']('toolTipHide',Ad,this);}}}['bind'](this),0x0);};TDV['Tour']['Script']['takeScreenshot']=function(An){var Ao=this['getActivePlayerWithViewer'](An);if(Ao&&(Ao['get']('class')=='PanoramaPlayer'||Ao['get']('class')=='Model3DPlayer'))Ao['saveScreenshot']();};TDV['Tour']['Script']['htmlToPlainText']=function htmlToPlainText(Ap,Aq){var Ar=function(AF,AG){var AH='';for(var AI=0x0;AI<AG;AI+=0x1){AH+=AF;}return AH;};var As=null;var At=null;var Au='underline';var Av='indention';var Aw='-';var Ax=0x3;var Ay='-';var Az=![];if(!!Aq){if(typeof Aq['linkProcess']==='function'){As=Aq['linkProcess'];}if(typeof Aq['imgProcess']==='function'){At=Aq['imgProcess'];}if(!!Aq['headingStyle']){Au=Aq['headingStyle'];}if(!!Aq['listStyle']){Av=Aq['listStyle'];}if(!!Aq['uIndentionChar']){Aw=Aq['uIndentionChar'];}if(!!Aq['listIndentionTabs']){Ax=Aq['listIndentionTabs'];}if(!!Aq['oIndentionChar']){Ay=Aq['oIndentionChar'];}if(!!Aq['keepNbsps']){Az=Aq['keepNbsps'];}}var AA=Ar(Aw,Ax);var AB=String(Ap)['replace'](/\n|\r/g,'\x20');const AC=AB['match'](/<\/body>/i);if(AC){AB=AB['substring'](0x0,AC['index']);}const AD=AB['match'](/<body[^>]*>/i);if(AD){AB=AB['substring'](AD['index']+AD[0x0]['length'],AB['length']);}AB=AB['replace'](/<(script|style)( [^>]*)*>((?!<\/\1( [^>]*)*>).)*<\/\1>/gi,'');AB=AB['replace'](/<(\/)?((?!h[1-6]( [^>]*)*>)(?!img( [^>]*)*>)(?!a( [^>]*)*>)(?!ul( [^>]*)*>)(?!ol( [^>]*)*>)(?!li( [^>]*)*>)(?!p( [^>]*)*>)(?!div( [^>]*)*>)(?!td( [^>]*)*>)(?!br( [^>]*)*>)[^>\/])[^<>]*>/gi,'');AB=AB['replace'](/<img([^>]*)>/gi,function(AJ,AK){var AL='';var AM='';var AN=/src="([^"]*)"/i['exec'](AK);var AO=/alt="([^"]*)"/i['exec'](AK);if(AN!==null){AL=AN[0x1];}if(AO!==null){AM=AO[0x1];}if(typeof At==='function'){return At(AL,AM);}if(AM===''){return'![image]\x20('+AL+')';}return'!['+AM+']\x20('+AL+')';});function AE(){return function(AP,AQ,AR,AS){var AT=0x0;if(AR&&/start="([0-9]+)"/i['test'](AR)){AT=/start="([0-9]+)"/i['exec'](AR)[0x1]-0x1;}var AU='<p>'+AS['replace'](/<li[^>]*>(((?!<li[^>]*>)(?!<\/li>).)*)<\/li>/gi,function(AV,AW){var AX=0x0;var AY=AW['replace'](/(^|(<br \/>))(?!<p>)/gi,function(){if(AQ==='o'&&AX===0x0){AT+=0x1;AX+=0x1;return'<br\x20/>'+AT+Ar(Ay,Ax-String(AT)['length']);}return'<br\x20/>'+AA;});return AY;})+'</p>';return AU;};}if(Av==='linebreak'){AB=AB['replace'](/<\/?ul[^>]*>|<\/?ol[^>]*>|<\/?li[^>]*>/gi,'\x0a');}else if(Av==='indention'){while(/<(o|u)l[^>]*>(.*)<\/\1l>/gi['test'](AB)){AB=AB['replace'](/<(o|u)l([^>]*)>(((?!<(o|u)l[^>]*>)(?!<\/(o|u)l>).)*)<\/\1l>/gi,AE());}}if(Au==='linebreak'){AB=AB['replace'](/<h([1-6])[^>]*>([^<]*)<\/h\1>/gi,'\x0a$2\x0a');}else if(Au==='underline'){AB=AB['replace'](/<h1[^>]*>(((?!<\/h1>).)*)<\/h1>/gi,function(AZ,B0){return'\x0a&nbsp;\x0a'+B0+'\x0a'+Ar('=',B0['length'])+'\x0a&nbsp;\x0a';});AB=AB['replace'](/<h2[^>]*>(((?!<\/h2>).)*)<\/h2>/gi,function(B1,B2){return'\x0a&nbsp;\x0a'+B2+'\x0a'+Ar('-',B2['length'])+'\x0a&nbsp;\x0a';});AB=AB['replace'](/<h([3-6])[^>]*>(((?!<\/h\1>).)*)<\/h\1>/gi,function(B3,B4,B5){return'\x0a&nbsp;\x0a'+B5+'\x0a&nbsp;\x0a';});}else if(Au==='hashify'){AB=AB['replace'](/<h([1-6])[^>]*>([^<]*)<\/h\1>/gi,function(B6,B7,B8){return'\x0a&nbsp;\x0a'+Ar('#',B7)+'\x20'+B8+'\x0a&nbsp;\x0a';});}AB=AB['replace'](/<br( [^>]*)*>|<p( [^>]*)*>|<\/p( [^>]*)*>|<div( [^>]*)*>|<\/div( [^>]*)*>|<td( [^>]*)*>|<\/td( [^>]*)*>/gi,'\x0a');AB=AB['replace'](/<a[^>]*href="([^"]*)"[^>]*>([^<]+)<\/a[^>]*>/gi,function(B9,Ba,Bb){if(typeof As==='function'){return As(Ba,Bb);}return'\x20['+Bb+']\x20('+Ba+')\x20';});AB=AB['replace'](/\n[ \t\f]*/gi,'\x0a');AB=AB['replace'](/\n\n+/gi,'\x0a');if(Az){AB=AB['replace'](/( |\t)+/gi,'\x20');AB=AB['replace'](/&nbsp;/gi,'\x20');}else{AB=AB['replace'](/( |&nbsp;|\t)+/gi,'\x20');}AB=AB['replace'](/\n +/gi,'\x0a');AB=AB['replace'](/^ +/gi,'');while(AB['indexOf']('\x0a')===0x0){AB=AB['substring'](0x1);}if(AB['length']===0x0||AB['lastIndexOf']('\x0a')!==AB['length']-0x1){AB+='\x0a';}return AB;};TDV['Tour']['Script']['openEmbeddedPDF']=function(Bc,Bd){var Be=!!window['MSInputMethodContext']&&!!document['documentMode'];if(Be){this['openLink'](Bd,'_blank');return;}var Bf=Bc['get']('class');var Bg=!new RegExp('^(?:[a-z]+:)?//','i')['test'](Bd);if(Bg&&Bf=='WebFrame'){var Bh=location['origin']+location['pathname'];Bc['set']('url','lib/pdfjs/web/viewer.html?file='+encodeURIComponent(Bh['substring'](0x0,Bh['lastIndexOf']('/'))+'/'+Bd)+'#0');}else{var Bi=location['origin']==new URL(Bd)['origin'];var Bj='<iframe\x20\x20id=\x27googleViewer\x27\x20src=\x27https://docs.google.com/viewer?url=[url]&embedded=true\x27\x20width=\x27100%\x27\x20height=\x27100%\x27\x20frameborder=\x270\x27>'+'<p>This\x20browser\x20does\x20not\x20support\x20inline\x20PDFs.\x20Please\x20download\x20the\x20PDF\x20to\x20view\x20it:\x20<a\x20href=\x27[url]\x27>Download\x20PDF</a></p>'+'</iframe>';var Bk=/^((?!chrome|android|crios|ipad|iphone).)*safari/i['test'](navigator['userAgent']);var Bl='<div\x20id=\x22content\x22\x20style=\x22width:100%;height:100%;position:absolute;left:0;top:0;\x22></div>'+'<script\x20type=\x22text/javascript\x22>'+'!function(root,factory){\x22function\x22==typeof\x20define&&define.amd?define([],factory):\x22object\x22==typeof\x20module&&module.exports?module.exports=factory():root.PDFObject=factory()}(this,function(){\x22use\x20strict\x22;if(void\x200===window||void\x200===window.navigator||void\x200===window.navigator.userAgent||void\x200===window.navigator.mimeTypes)return!1;let\x20nav=window.navigator,ua=window.navigator.userAgent,isIE=\x22ActiveXObject\x22in\x20window,isModernBrowser=void\x200!==window.Promise,supportsPdfMimeType=void\x200!==nav.mimeTypes[\x22application/pdf\x22],isMobileDevice=void\x200!==nav.platform&&\x22MacIntel\x22===nav.platform&&void\x200!==nav.maxTouchPoints&&nav.maxTouchPoints>1||/Mobi|Tablet|Android|iPad|iPhone/.test(ua),isSafariDesktop=!isMobileDevice&&void\x200!==nav.vendor&&/Apple/.test(nav.vendor)&&/Safari/.test(ua),isFirefoxWithPDFJS=!(isMobileDevice||!/irefox/.test(ua))&&parseInt(ua.split(\x22rv:\x22)[1].split(\x22.\x22)[0],10)>18,createAXO=function(type){var\x20ax;try{ax=new\x20ActiveXObject(type)}catch(e){ax=null}return\x20ax},supportsPDFs=!isMobileDevice&&(isFirefoxWithPDFJS||supportsPdfMimeType||isIE&&!(!createAXO(\x22AcroPDF.PDF\x22)&&!createAXO(\x22PDF.PdfCtrl\x22))),embedError=function(msg,suppressConsole){return\x20suppressConsole||console.log(\x22[PDFObject]\x20\x22+msg),!1},emptyNodeContents=function(node){for(;node.firstChild;)node.removeChild(node.firstChild)},generatePDFJSMarkup=function(targetNode,url,pdfOpenFragment,PDFJS_URL,id,omitInlineStyles){emptyNodeContents(targetNode);let\x20fullURL=PDFJS_URL+\x22?file=\x22+encodeURIComponent(url)+pdfOpenFragment,div=document.createElement(\x22div\x22),iframe=document.createElement(\x22iframe\x22);return\x20iframe.src=fullURL,iframe.className=\x22pdfobject\x22,iframe.type=\x22application/pdf\x22,iframe.frameborder=\x220\x22,id&&(iframe.id=id),omitInlineStyles||(div.style.cssText=\x22position:\x20absolute;\x20top:\x200;\x20right:\x200;\x20bottom:\x200;\x20left:\x200;\x22,iframe.style.cssText=\x22border:\x20none;\x20width:\x20100%;\x20height:\x20100%;\x22,/*targetNode.style.position=\x22relative\x22,*/targetNode.style.overflow=\x22auto\x22),div.appendChild(iframe),targetNode.appendChild(div),targetNode.classList.add(\x22pdfobject-container\x22),targetNode.getElementsByTagName(\x22iframe\x22)[0]},embed=function(url,targetSelector,options){let\x20selector=targetSelector||!1,opt=options||{},id=\x22string\x22==typeof\x20opt.id?opt.id:\x22\x22,page=opt.page||!1,pdfOpenParams=opt.pdfOpenParams||{},fallbackLink=opt.fallbackLink||!0,width=opt.width||\x22100%\x22,height=opt.height||\x22100%\x22,assumptionMode=\x22boolean\x22!=typeof\x20opt.assumptionMode||opt.assumptionMode,forcePDFJS=\x22boolean\x22==typeof\x20opt.forcePDFJS&&opt.forcePDFJS,supportRedirect=\x22boolean\x22==typeof\x20opt.supportRedirect&&opt.supportRedirect,omitInlineStyles=\x22boolean\x22==typeof\x20opt.omitInlineStyles&&opt.omitInlineStyles,suppressConsole=\x22boolean\x22==typeof\x20opt.suppressConsole&&opt.suppressConsole,forceIframe=\x22boolean\x22==typeof\x20opt.forceIframe&&opt.forceIframe,PDFJS_URL=opt.PDFJS_URL||!1,targetNode=function(targetSelector){let\x20targetNode=document.body;return\x22string\x22==typeof\x20targetSelector?targetNode=document.querySelector(targetSelector):void\x200!==window.jQuery&&targetSelector\x20instanceof\x20jQuery&&targetSelector.length?targetNode=targetSelector.get(0):void\x200!==targetSelector.nodeType&&1===targetSelector.nodeType&&(targetNode=targetSelector),targetNode}(selector),fallbackHTML=\x22\x22,pdfOpenFragment=\x22\x22;if(\x22string\x22!=typeof\x20url)return\x20embedError(\x22URL\x20is\x20not\x20valid\x22,suppressConsole);if(!targetNode)return\x20embedError(\x22Target\x20element\x20cannot\x20be\x20determined\x22,suppressConsole);if(page&&(pdfOpenParams.page=page),pdfOpenFragment=function(pdfParams){let\x20prop,string=\x22\x22;if(pdfParams){for(prop\x20in\x20pdfParams)pdfParams.hasOwnProperty(prop)&&(string+=encodeURIComponent(prop)+\x22=\x22+encodeURIComponent(pdfParams[prop])+\x22&\x22);string&&(string=(string=\x22#\x22+string).slice(0,string.length-1))}return\x20string}(pdfOpenParams),forcePDFJS&&PDFJS_URL)return\x20generatePDFJSMarkup(targetNode,url,pdfOpenFragment,PDFJS_URL,id,omitInlineStyles);if(supportsPDFs||assumptionMode&&isModernBrowser&&!isMobileDevice){return\x20function(embedType,targetNode,targetSelector,url,pdfOpenFragment,width,height,id,omitInlineStyles){emptyNodeContents(targetNode);let\x20embed=document.createElement(embedType);if(embed.src=url+pdfOpenFragment,embed.className=\x22pdfobject\x22,embed.type=\x22application/pdf\x22,id&&(embed.id=id),!omitInlineStyles){let\x20style=\x22embed\x22===embedType?\x22overflow:\x20auto;\x22:\x22border:\x20none;\x22;targetSelector&&targetSelector!==document.body?style+=\x22width:\x20\x22+width+\x22;\x20height:\x20\x22+height+\x22;\x22:style+=\x22position:\x20absolute;\x20top:\x200;\x20right:\x200;\x20bottom:\x200;\x20left:\x200;\x20width:\x20100%;\x20height:\x20100%;\x22,embed.style.cssText=style}return\x20targetNode.classList.add(\x22pdfobject-container\x22),targetNode.appendChild(embed),targetNode.getElementsByTagName(embedType)[0]}(forceIframe||supportRedirect&&isSafariDesktop?\x22iframe\x22:\x22embed\x22,targetNode,targetSelector,url,pdfOpenFragment,width,height,id,omitInlineStyles)}return\x20PDFJS_URL?generatePDFJSMarkup(targetNode,url,pdfOpenFragment,PDFJS_URL,id,omitInlineStyles):(fallbackLink&&(fallbackHTML=\x22string\x22==typeof\x20fallbackLink?fallbackLink:\x22<p>This\x20browser\x20does\x20not\x20support\x20inline\x20PDFs.\x20Please\x20download\x20the\x20PDF\x20to\x20view\x20it:\x20<a\x20href=\x27[url]\x27>Download\x20PDF</a></p>\x22,targetNode.innerHTML=fallbackHTML.replace(/\x5c[url\x5c]/g,url)),embedError(\x22This\x20browser\x20does\x20not\x20support\x20embedded\x20PDFs\x22,suppressConsole))};return{embed:function(a,b,c){return\x20embed(a,b,c)},pdfobjectversion:\x222.2.3\x22,supportsPDFs:supportsPDFs}});'+'if\x20(typeof\x20module\x20===\x20\x22object\x22\x20&&\x20module.exports)\x20{'+'this.PDFObject\x20=\x20module.exports;'+'}'+'PDFObject.embed(\x22'+Bd+'\x22,\x20\x22#content\x22,\x20{'+(Bi?'\x22PDFJS_URL\x22:\x20\x22'+new URL('lib/pdfjs/web/viewer.html',document['baseURI'])['href']+'\x22,\x20':'')+'\x22fallbackLink\x22:\x20\x22'+Bj+'\x22,'+'\x22forcePDFJS\x22:\x20'+Bk+'});'+'if(!PDFObject.supportsPDFs\x20&&\x20!'+Bi+'){'+'\x20var\x20iframeTimerId;'+'\x20function\x20startTimer(){'+'\x20\x20\x20\x20iframeTimerId\x20=\x20window.setTimeout(checkIframeLoaded,\x202000);'+'\x20}'+'\x20function\x20checkIframeLoaded(){\x20\x20'+'\x20\x20\x20\x20var\x20iframe\x20=\x20document.getElementById(\x22googleViewer\x22);'+'\x20\x20\x20\x20iframe.src\x20=\x20iframe.src;'+'\x20\x20\x20\x20iframeTimerId\x20=\x20window.setTimeout(checkIframeLoaded,\x202000);'+'\x20}'+'\x20document.getElementById(\x22googleViewer\x22).addEventListener(\x22load\x22,\x20function(){'+'\x20\x20\x20clearInterval(iframeTimerId);\x20'+'\x20});'+'\x20startTimer();'+'}'+'</script>';if(Bf=='WebFrame'){Bc['set']('url','data:text/html;charset=utf-8,'+encodeURIComponent('<!DOCTYPE\x20html>'+'<html>'+'<head></head>'+'<body\x20style=\x22height:100%;width:100%;overflow:hidden;margin:0px;background-color:rgb(82,\x2086,\x2089);\x22>'+Bl+'</body>'+'</html>'));}else if(Bf=='HTML'){Bc['set']('content','data:text/html;charset=utf-8,'+encodeURIComponent(Bl));}}};TDV['Tour']['Script']['getKey']=function(Bm){return window[Bm];};TDV['Tour']['Script']['registerKey']=function(Bn,Bo){window[Bn]=Bo;};TDV['Tour']['Script']['unregisterKey']=function(Bp){delete window[Bp];};TDV['Tour']['Script']['existsKey']=function(Bq){return Bq in window;};function _getCurrentActiveModels(){var Br=this['getByClassName']('Model3DPlayer');var Bs=[];for(var Bt of Br){var Bu=Bt['get']('model');var Bv=Bt['get']('viewerArea');if(Bu&&Bu['get']('isLoaded')&&Bv&&Bv['get']('visible'))Bs['push'](Bu);}return Bs;}function _onMeasureClick(Bw){var Bx=Bw['source'];var By=Bx['get']('mode');if(By!='create'){Bx['set']('mode',By=='view'?'edit':'view');console['log'](Bx['get']('mode'));}}function _forEachMeasureModel3DObject(Bz,BA){if(!Bz)Bz=_getCurrentActiveModels['call'](this);Bz['forEach'](function(BB){BB['get']('objects')['forEach'](function(BC){if(BC['get']('class')=='MeasureModel3DObject')BA(BB,BC);}['bind'](this));}['bind'](this));}function _deleteModel3DObjects(BD,BE){if(!BD)BD=_getCurrentActiveModels['call'](this);BD['forEach'](function(BF){var BG=BF['get']('objects');var BH=BG['filter'](function(BI){return!BE['call'](this,BI);});if(BH['length']!=BG['length']){BF['set']('objects',BH);BG['forEach'](function(BJ){if(BE['call'](this,BJ))this['disposeInstance'](BJ);}['bind'](this));}}['bind'](this));}function _cloneMeasureModel3DObject(BK){var BL=this['clone'](BK,BK['getAttributeNames']()['filter'](function(BM){return BM!='id';}));BL['set']('data',{'id':BK['get']('id')});return BL;}TDV['Tour']['Script']['startMeasurement']=function(BN,BO){if(!BN)BN=_getCurrentActiveModels['call'](this);var BP={},BQ={};BN['forEach'](function(BS){var BT=BS['get']('objects');var BU=BT['findIndex'](function(BZ){return BZ['get']('class')=='MeasureModel3DObject'&&BZ['get']('mode')=='create';});var BV=BU!=-0x1;if(BV){var BW=BT[BU];if(BW['get']('points')['length']==0x0){BT['splice'](BU,0x1);this['disposeInstance'](BW);}else BW['set']('mode','view');}var BX=_cloneMeasureModel3DObject['call'](this,BO);this['cloneBindings'](BO,BX,'modeChange');BX['set']('mode','create');BX['bind']('click',_onMeasureClick,this);var BY=BS['get']('camera');BX['bind']('modeChange',function C0(){if(BX['get']('mode')=='create'){BP[BS['get']('id')]=BS['get']('surfaceSelectionEnabled');BS['set']('surfaceSelectionEnabled',!![]);if(BY['get']('class')=='FlyOverModel3DCamera'){BQ[BS['get']('id')]=BY['get']('doubleClickAction');BY['set']('doubleClickAction','none');}}else{BX['unbind']('modeChange',C0,this);BS['set']('surfaceSelectionEnabled',BP[BS['get']('id')]);if(BY['get']('class')=='FlyOverModel3DCamera'){BY['set']('doubleClickAction',BQ[BS['get']('id')]);}}},this);if(BN['length']>0x0){BX['bind']('distanceChange',function C1(){BX['unbind']('distanceChange',C1,this);BR['call'](this,BN['filter'](C2=>C2!=BS));},this);}BT=BT['concat']();BT['push'](BX);BS['set']('objects',BT);}['bind'](this));function BR(C3){this['stopMeasurement'](C3);for(var C4 of C3){var C5=C4['get']('id');C4['set']('surfaceSelectionEnabled',BP[C5]);if(C5 in BQ)C4['get']('camera')['set']('doubleClickAction',BQ[C5]);}}};TDV['Tour']['Script']['stopMeasurement']=function(C6){_deleteModel3DObjects['call'](this,C6,function(C7){return C7['get']('class')=='MeasureModel3DObject'&&C7['get']('mode')=='create'&&C7['get']('points')['length']==0x0;});_forEachMeasureModel3DObject['call'](this,C6,function(C8,C9){if(C9['get']('mode')=='create'){C9['set']('mode','edit');}});};TDV['Tour']['Script']['toggleMeasurement']=function(Ca,Cb){if(!Ca)Ca=_getCurrentActiveModels['call'](this);var Cc=Ca['some'](function(Cd){var Ce=Cd['get']('objects');var Cf=Ce['find'](function(Cg){return Cg['get']('class')=='MeasureModel3DObject'&&Cg['get']('mode')=='create';});return Cf!=null;});if(!Cc)this['startMeasurement'](Ca,Cb);else this['stopMeasurement'](Ca);};TDV['Tour']['Script']['cleanAllMeasurements']=function(Ch){_deleteModel3DObjects['call'](this,Ch,function(Ci){return Ci['get']('class')=='MeasureModel3DObject';});};TDV['Tour']['Script']['cleanSelectedMeasurements']=function(Cj){_deleteModel3DObjects['call'](this,Cj,function(Ck){return Ck['get']('class')=='MeasureModel3DObject'&&Ck['get']('mode')=='edit';});};TDV['Tour']['Script']['setMeasurementsVisibility']=function(Cl,Cm){_forEachMeasureModel3DObject['call'](this,Cl,function(Cn,Co){Co['set']('enabled',Cm);});};TDV['Tour']['Script']['toggleMeasurementsVisibility']=function(Cp){_forEachMeasureModel3DObject['call'](this,Cp,function(Cq,Cr){Cr['set']('enabled',!Cr['get']('enabled'));});};TDV['Tour']['Script']['setMeasurementUnits']=function(Cs){_forEachMeasureModel3DObject['call'](this,null,function(Ct,Cu){Cu['set']('units',Cs);});};
//# sourceMappingURL=script_v2023.0.9.js.map
//Generated with v2023.0.9, Fri May 5 2023